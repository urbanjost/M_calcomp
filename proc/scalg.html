<!-- -*- mode: jinja2 -*- -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="description" content="General Purpose Fortran project">
    <meta name="author" content="John S. Urban" >
    <link rel="icon" href="../favicon.png">

    <title>scalg &ndash; M_calcomp</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link href="../css/pygments.css" rel="stylesheet">
    <link href="../css/font-awesome.min.css" rel="stylesheet">
    <link href="../css/local.css" rel="stylesheet">
      <link  href="../tipuesearch/tipuesearch.css" rel="stylesheet">

    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <script src="../js/svg-pan-zoom.min.js"></script>
  </head>

  <body>

    <!-- Fixed navbar -->
    <div class="container-fluid mb-sm-4 mb-xl-2">
      <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
        <div class="container">
          <a class="navbar-brand" href="../index.html">M_calcomp </a>
          <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar"
                  aria-expanded="false" aria-controls="navbar" aria-label="Toggle navigation">
                  <span class="navbar-toggler-icon">
          </button>

          <div id="navbar" class="navbar-collapse collapse">
            <ul class="navbar-nav">
                  <li class="nav-item">
                    <a class="nav-link" href="../lists/files.html">Source Files</a>
                  </li>
                <li class="nav-item">
                  <a class="nav-link" href="../lists/modules.html">Modules</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="../lists/procedures.html">Procedures</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="../lists/programs.html">Programs</a>
                </li>
            </ul>
              <div class="d-flex align-items-end flex-grow-1">
                <form action="../search.html" role="search" class="ms-auto">
                  <input type="text" class="form-control" aria-label="Search" placeholder="Search" name="q" id="tipue_search_input" autocomplete="off" required>
                </form>
              </div>
          </div><!--/.nav-collapse -->
        </div>
      </nav>
    </div>

    <div class="container">
  <div class="row">
    <h1>scalg
      <small>Subroutine</small>
      
    </h1>
      <div class="container p-2 mb-4 bg-light border rounded-3">
    <div class="row align-items-center justify-content-between" id="info-bar">
      <div class="col">
        <ul class="list-inline" style="margin-bottom:0px;display:inline">

            <li class="list-inline-item" id="statements"><i class="fa fa-list-ol"></i>
              <a data-bs-toggle="tooltip"
                 data-bs-placement="bottom" data-html="true"
                 title=" 0.6% of total for procedures.">16 statements</a>
            </li>

            <li class="list-inline-item" id="source-file">
              <i class="fa fa-code"></i>
              <a href="../src/M_calcomp.F90"> Source File</a>
            </li>
        </ul>
      </div>
      <div class="col">
        <nav aria-label="breadcrumb">
          <ol class="breadcrumb justify-content-end mb-0">
                <li class="breadcrumb-item"><a href='../sourcefile/m_calcomp.f90.html'>M_calcomp.F90</a></li>
                <li class="breadcrumb-item"><a href='../module/m_calcomp.html'>M_calcomp</a></li>
            <li class="breadcrumb-item active" aria-current="page">scalg</li>
          </ol>
        </nav>
      </div>
    </div>
  </div>
  <script>
    $(function () {
    $('[data-bs-toggle="tooltip"]').tooltip()
    })
  </script>

  </div>
  
  <div class="row">
    <div class="col-md-3 hidden-xs hidden-sm visible-md visible-lg">
      <div id="sidebar">
      <h3>Contents</h3>
  
      <div class="card mb-4">
      <a data-bs-toggle="collapse" href="#vars-0"
         aria-expanded="false" aria-controls="vars-0">
         <h4 class="card-header bg-primary text-white">Variables</h4>
      </a>
      <div id="vars-0" class="collapse">
        <div class="list-group list-group-flush">
            <a class="list-group-item" href="../proc/scalg.html#variable-higint">higint</a>
            <a class="list-group-item" href="../proc/scalg.html#variable-j~12">j</a>
            <a class="list-group-item" href="../proc/scalg.html#variable-lowint">lowint</a>
            <a class="list-group-item" href="../proc/scalg.html#variable-x~30">x</a>
            <a class="list-group-item" href="../proc/scalg.html#variable-xmax~2">xmax</a>
            <a class="list-group-item" href="../proc/scalg.html#variable-xmin~3">xmin</a>
        </div>
      </div>
    </div>

  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
    <div class="card card-primary">
      <div class="card-header text-left"><h3 class="card-title">Source Code</h3></div>
      <div class="list-group">
        <a class="list-group-item" href="../proc/scalg.html#src">scalg</a>
      </div>
    </div>


  </div>

    </div>
    
    <div class="col-md-9" id='text'>
    <h2>public  subroutine scalg(array, axlen, npts, inc)  
</h2>
    

    <h2 id="name">NAME</h2>
<div class="codehilite"><pre><span></span><code>scalg(3f) - [M_calcomp:scientific] determine scale factors for a logarithmic scale
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>    subroutine scalg(array,axlen,npts,inc)
</code></pre></div>

<h2 id="description">DESCRIPTION</h2>
<p>SCALG is a FORTRAN subroutine used to determine scale factors of a
  data array to be plotted on a logarithmic scale. The scale factors
  are those used by subroutines LGLIN and LGAXS. SCALG is similar
  in operation to SCALE.</p>
<h2 id="options">OPTIONS</h2>
<div class="codehilite"><pre><span></span><code><span class="w"> </span><span class="nv">ARRAY</span><span class="w">    </span><span class="nv">is</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">array</span><span class="w"> </span><span class="nv">containing</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">data</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">be</span><span class="w"> </span><span class="nv">scaled</span>.<span class="w"> </span><span class="nv">The</span>
<span class="w">          </span><span class="nv">FORTRAN</span><span class="w"> </span><span class="nv">DIMENSION</span><span class="w"> </span><span class="nv">statement</span><span class="w"> </span><span class="nv">must</span><span class="w"> </span><span class="nv">specify</span><span class="w"> </span><span class="nv">at</span><span class="w"> </span><span class="nv">least</span><span class="w"> </span><span class="nv">two</span>
<span class="w">          </span><span class="nv">elements</span><span class="w"> </span><span class="nv">more</span><span class="w"> </span><span class="nv">than</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">number</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">values</span><span class="w"> </span><span class="nv">being</span><span class="w"> </span><span class="nv">scaled</span>,<span class="w"> </span><span class="nv">to</span>
<span class="w">          </span><span class="nv">allow</span><span class="w"> </span><span class="nv">room</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">SCALG</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">store</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">computed</span><span class="w"> </span><span class="nv">starting</span><span class="w"> </span><span class="nv">value</span>
<span class="w">          </span><span class="nv">and</span><span class="w"> </span><span class="nv">scaling</span><span class="w"> </span><span class="nv">factor</span><span class="w"> </span><span class="nv">at</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">array</span>.

<span class="w"> </span><span class="nv">AXLEN</span><span class="w">    </span><span class="nv">is</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">maximum</span><span class="w"> </span><span class="nv">length</span>,<span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">inches</span>,<span class="w"> </span><span class="nv">over</span><span class="w"> </span><span class="nv">which</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">data</span><span class="w"> </span><span class="nv">is</span>
<span class="w">          </span><span class="nv">to</span><span class="w"> </span><span class="nv">be</span><span class="w"> </span><span class="nv">plotted</span>.

<span class="w"> </span><span class="nv">NPTS</span><span class="w">     </span><span class="nv">is</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">number</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">values</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">ARRAY</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">be</span><span class="w"> </span><span class="nv">scaled</span>.

<span class="w"> </span><span class="nv">INC</span><span class="w">      </span><span class="nv">is</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">increment</span><span class="w"> </span><span class="nv">between</span><span class="w"> </span><span class="nv">elements</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">array</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">be</span>
<span class="w">          </span><span class="nv">plotted</span>.<span class="w"> </span><span class="nv">INC</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="nv">greater</span><span class="w"> </span><span class="nv">than</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">values</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">be</span>
<span class="w">          </span><span class="nv">plotted</span><span class="w"> </span><span class="nv">are</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">mixed</span><span class="w"> </span><span class="nv">or</span><span class="w"> </span><span class="nv">multi</span><span class="o">-</span><span class="nv">dimensioned</span><span class="w"> </span><span class="nv">array</span>.
<span class="w">          </span><span class="ss">(</span><span class="nv">Normally</span><span class="w"> </span><span class="nv">INC</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="ss">)</span>.
</code></pre></div>

<p>COMMENTS</p>
<p>The array must be dimensioned with at least NPTS + 2 elements.
  The adjusted minimum value (FIRSTV) and the delta value (DELTAV) are
  stored by SCALG in the data array.</p>
<p>The adjusted minimum is stored in ARRAY (NPTS<em>INC + 1), and the
  adjusted delta (log cycles per inch) is in ARRAY (NPTS</em>INC + INC + 1) .
  Therefore, ARRAY must be dimensioned to be at least NPTS*INC+INC+1 .</p>
<p>Every INCth element of the array ARRAY, beginning with the first,
  is scanned to find the minimum and maximum values of the array.
  Next, the greatest value of 10<strong>n (integer n) less than or equal
  to the minimum value is found and then stored in ARRAY (NPTS*INC + 1).
  Finally, the smallest value of 10</strong>m (integer m) greater than or
  equal to the maximum value is established.</p>
<p>The delta value is the difference between the minimum and maximum
  powers of ten, divided by AXLEN, yielding log cycles per inch.
  The delta value is stored in ARRAY (NPTS*INC + INC + 1).</p>
<h2 id="examples">EXAMPLES</h2>
<p>Various examples:</p>
<div class="codehilite"><pre><span></span><code> A.  For the following array of values

     ARRAY(1)  =  1500.0
     ARRAY(2)  =  3000.0
     ARRAY(3)  =  2500.0
     ARRAY(4)  =   300.0

     and the following argument values

     AXLEN     =  1.0
     NPTS      =  4
     INC       =  1

     the adjusted minimum (FIRSTV) and delta value (DELTAV) stored by
     SCALG are:

     FIRSTV:  ARRAY(5)   =  100.0
     DELTAV:  ARRAY(6)   =    2.0

 B.  If the value of AXLEN in Example A were changed to 4.0, the resultant
     values stored would be:

     FIRSTV:  ARRAY(5)   =  100.0
     DELTAV:  ARRAY(6)   =    0.5

 C.  For the following array of values

     ARRAY(1)  =    1.2*
     ARRAY(2)  =  100.0
     ARRAY(3)  =    2.3*
     ARRAY(4)  =   88.0
     ARRAY(5)  =    1.8*
     ARRAY(6)  =    0.0
     ARRAY(7)  =    0.8*
     ARRAY(8)  =   10.0
     ARRAY(9)  =    0.7*
     ARRAY(10) =   10.0

     and the following argument values:

     AXLEN     =  10.0
     NPTS      =  5
     INC       =  2

     the adjusted minimum (FIRSTV) and delta value (DELTAV) are determined
     from the value of the asterisked items (1, 3, 5, 7, and 9) in the
     above array. The computed values are also stored two subscript
     elements apart.

     FIRSTV:  ARRAY(11)  =  0.1
     DELTAV:  ARRAY(13)  =  0.2
</code></pre></div>

<h2 id="example">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code><span class="nx">program</span><span class="w"> </span><span class="nx">demo_scalg</span>
<span class="nx">use</span><span class="w"> </span><span class="nx">M_calcomp</span>
<span class="nx">implicit</span><span class="w"> </span><span class="nx">none</span>
<span class="p">!</span><span class="w"> </span><span class="nx">based</span><span class="w"> </span><span class="nx">on</span><span class="w"> </span><span class="nx">concepts</span><span class="w"> </span><span class="nx">of</span><span class="w"> </span><span class="nx">CALIFORNIA</span><span class="w"> </span><span class="nx">COMPUTER</span><span class="w"> </span><span class="nx">PRODUCTS</span><span class="p">,</span><span class="w"> </span><span class="mi">1968</span>
<span class="nx">character</span><span class="p">(</span><span class="nx">len</span><span class="p">=</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="nx">ibcd</span>
<span class="nx">integer</span><span class="w">           </span><span class="o">::</span><span class="w"> </span><span class="nx">i</span><span class="p">,</span><span class="w"> </span><span class="nx">k</span>
<span class="nx">integer</span><span class="w">           </span><span class="o">::</span><span class="w"> </span><span class="nx">inteq</span>
<span class="nx">real</span><span class="w">              </span><span class="o">::</span><span class="w"> </span><span class="nx">a</span>
<span class="nx">real</span><span class="w">              </span><span class="o">::</span><span class="w"> </span><span class="nx">angl</span>
<span class="nx">real</span><span class="w">              </span><span class="o">::</span><span class="w"> </span><span class="nx">angle</span><span class="p">(</span><span class="mi">19</span><span class="p">)</span>
<span class="nx">real</span><span class="w">              </span><span class="o">::</span><span class="w"> </span><span class="nx">bang</span>
<span class="nx">real</span><span class="w">              </span><span class="o">::</span><span class="w"> </span><span class="nx">beta</span>
<span class="nx">real</span><span class="w">              </span><span class="o">::</span><span class="w"> </span><span class="nx">r</span><span class="p">(</span><span class="mi">19</span><span class="p">)</span>
<span class="nx">real</span><span class="w">              </span><span class="o">::</span><span class="w"> </span><span class="nx">theta</span>
<span class="nx">real</span><span class="w">              </span><span class="o">::</span><span class="w"> </span><span class="nx">x</span>
<span class="nx">real</span><span class="w">              </span><span class="o">::</span><span class="w"> </span><span class="nx">xx</span>
<span class="nx">real</span><span class="w">              </span><span class="o">::</span><span class="w"> </span><span class="nx">xa</span><span class="p">,</span><span class="nx">ya</span><span class="p">,</span><span class="w"> </span><span class="nx">xb</span><span class="p">,</span><span class="nx">yb</span><span class="p">,</span><span class="w"> </span><span class="nx">xc</span><span class="p">,</span><span class="nx">yc</span><span class="p">,</span><span class="w"> </span><span class="nx">xd</span><span class="p">,</span><span class="nx">yd</span>
<span class="nx">real</span><span class="w">              </span><span class="o">::</span><span class="w"> </span><span class="nx">xar</span><span class="p">(</span><span class="mi">8</span><span class="p">)=</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="m m-Double">1.00</span><span class="p">,</span><span class="w"> </span><span class="m m-Double">2.00</span><span class="p">,</span><span class="w"> </span><span class="m m-Double">3.00</span><span class="p">,</span><span class="w"> </span><span class="m m-Double">4.00</span><span class="p">,</span><span class="w"> </span><span class="m m-Double">5.00</span><span class="p">,</span><span class="w"> </span><span class="m m-Double">6.00</span><span class="w">       </span><span class="p">,</span><span class="w"> </span><span class="m m-Double">0.0</span><span class="p">,</span><span class="w"> </span><span class="m m-Double">0.0</span><span class="w"> </span><span class="p">]</span>
<span class="nx">real</span><span class="w">              </span><span class="o">::</span><span class="w"> </span><span class="nx">yar</span><span class="p">(</span><span class="mi">8</span><span class="p">)=</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="m m-Double">250.0</span><span class="p">,</span><span class="w"> </span><span class="m m-Double">110.0</span><span class="p">,</span><span class="w"> </span><span class="m m-Double">500.0</span><span class="p">,</span><span class="w"> </span><span class="m m-Double">900.0</span><span class="p">,</span><span class="w"> </span><span class="m m-Double">200.0</span><span class="p">,</span><span class="w"> </span><span class="m m-Double">140.0</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="m m-Double">0.0</span><span class="p">,</span><span class="w"> </span><span class="m m-Double">1.0</span><span class="w"> </span><span class="p">]</span>
<span class="w">   </span><span class="nx">call</span><span class="w"> </span><span class="nx">plots</span><span class="p">(</span><span class="m m-Double">0.0</span><span class="p">,</span><span class="m m-Double">10.0</span><span class="p">,</span><span class="m m-Double">0.0</span><span class="p">,</span><span class="m m-Double">10.0</span><span class="p">)</span>
<span class="p">!</span><span class="w"> </span><span class="nx">DRAW</span><span class="w"> </span><span class="nx">FRAME</span>
<span class="w">   </span><span class="nx">call</span><span class="w"> </span><span class="nx">plot</span><span class="p">(</span><span class="m m-Double">7.0</span><span class="p">,</span><span class="m m-Double">0.0</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="w">   </span><span class="nx">call</span><span class="w"> </span><span class="nx">plot</span><span class="p">(</span><span class="m m-Double">7.0</span><span class="p">,</span><span class="m m-Double">9.0</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="w">   </span><span class="nx">call</span><span class="w"> </span><span class="nx">plot</span><span class="p">(</span><span class="m m-Double">0.0</span><span class="p">,</span><span class="m m-Double">9.0</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="w">   </span><span class="nx">call</span><span class="w"> </span><span class="nx">plot</span><span class="p">(</span><span class="m m-Double">0.0</span><span class="p">,</span><span class="m m-Double">0.0</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="p">!</span><span class="w"> </span><span class="nx">DRAW</span><span class="w"> </span><span class="nx">COMMENTS</span>
<span class="w">   </span><span class="nx">ibcd</span><span class="p">=</span><span class="err">&#39;</span><span class="nx">USING</span><span class="w"> </span><span class="nx">SCALG</span><span class="p">,</span><span class="w"> </span><span class="nx">LGAXS</span><span class="p">,</span><span class="w"> </span><span class="nx">AND</span><span class="w"> </span><span class="nx">LGLIN</span><span class="w"> </span><span class="nx">SUBROUTINES</span><span class="err">&#39;</span>
<span class="w">   </span><span class="nx">call</span><span class="w"> </span><span class="nx">symbol</span><span class="p">(</span><span class="m m-Double">0.7</span><span class="p">,</span><span class="m m-Double">8.25</span><span class="p">,</span><span class="m m-Double">0.14</span><span class="p">,</span><span class="nx">ibcd</span><span class="p">,</span><span class="nx">inteq</span><span class="p">,</span><span class="m m-Double">0.0</span><span class="p">,</span><span class="mi">42</span><span class="p">)</span>
<span class="w">   </span><span class="nx">ibcd</span><span class="p">=</span><span class="err">&#39;</span><span class="nx">USING</span><span class="w"> </span><span class="nx">POLAR</span><span class="w"> </span><span class="nx">SUBROUTINE</span><span class="err">&#39;</span>
<span class="w">   </span><span class="nx">call</span><span class="w"> </span><span class="nx">symbol</span><span class="p">(</span><span class="m m-Double">0.7</span><span class="p">,</span><span class="m m-Double">3.80</span><span class="p">,</span><span class="m m-Double">0.14</span><span class="p">,</span><span class="nx">ibcd</span><span class="p">,</span><span class="nx">inteq</span><span class="p">,</span><span class="m m-Double">0.0</span><span class="p">,</span><span class="mi">22</span><span class="p">)</span>
<span class="p">!</span><span class="w"> </span><span class="nx">AXIS</span><span class="w"> </span><span class="nx">IS</span><span class="w"> </span><span class="nx">DRAWN</span>
<span class="w">   </span><span class="nx">ibcd</span><span class="p">=</span><span class="err">&#39;</span><span class="nx">ALTITUDE</span><span class="err">&#39;</span>
<span class="w">   </span><span class="nx">call</span><span class="w"> </span><span class="nx">axis</span><span class="p">(</span><span class="m m-Double">1.0</span><span class="p">,</span><span class="m m-Double">4.75</span><span class="p">,</span><span class="nx">ibcd</span><span class="p">,</span><span class="o">-</span><span class="mi">8</span><span class="p">,</span><span class="m m-Double">5.0</span><span class="p">,</span><span class="m m-Double">0.0</span><span class="p">,</span><span class="m m-Double">0.0</span><span class="p">,</span><span class="m m-Double">25.0</span><span class="p">)</span>
<span class="w">   </span><span class="nx">call</span><span class="w"> </span><span class="nx">scalg</span><span class="p">(</span><span class="nx">yar</span><span class="p">,</span><span class="m m-Double">3.0</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="w">   </span><span class="nx">ibcd</span><span class="p">=</span><span class="err">&#39;</span><span class="nx">TEMPERATURE</span><span class="err">&#39;</span>
<span class="w">   </span><span class="nx">call</span><span class="w"> </span><span class="nx">lgaxs</span><span class="p">(</span><span class="m m-Double">1.0</span><span class="p">,</span><span class="m m-Double">4.75</span><span class="p">,</span><span class="nx">ibcd</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="m m-Double">3.0</span><span class="p">,</span><span class="m m-Double">90.0</span><span class="p">,</span><span class="nx">yar</span><span class="p">(</span><span class="mi">7</span><span class="p">),</span><span class="nx">yar</span><span class="p">(</span><span class="mi">8</span><span class="p">))</span>
<span class="w">   </span><span class="nx">call</span><span class="w"> </span><span class="nx">scale</span><span class="p">(</span><span class="nx">xar</span><span class="p">,</span><span class="m m-Double">5.0</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="w">   </span><span class="nx">call</span><span class="w"> </span><span class="nx">plot</span><span class="p">(</span><span class="m m-Double">1.0</span><span class="p">,</span><span class="m m-Double">4.75</span><span class="p">,</span><span class="o">-</span><span class="mi">3</span><span class="p">)</span>
<span class="w">   </span><span class="nx">call</span><span class="w"> </span><span class="nx">lglin</span><span class="p">(</span><span class="nx">xar</span><span class="p">,</span><span class="nx">yar</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="w">   </span><span class="nx">call</span><span class="w"> </span><span class="nx">plot</span><span class="p">(</span><span class="o">-</span><span class="m m-Double">1.0</span><span class="p">,</span><span class="o">-</span><span class="m m-Double">4.75</span><span class="p">,</span><span class="o">-</span><span class="mi">3</span><span class="p">)</span>
<span class="p">!</span><span class="w"> </span><span class="nx">POLAR</span><span class="w"> </span><span class="nx">SUBROUTINE</span><span class="w"> </span><span class="nx">IS</span><span class="w"> </span><span class="nx">USED</span>
<span class="w">   </span><span class="nx">x</span><span class="p">=</span><span class="m m-Double">0.0</span>
<span class="w">   </span><span class="nx">do</span><span class="w"> </span><span class="nx">k</span><span class="p">=</span><span class="mi">1</span><span class="p">,</span><span class="mi">19</span>
<span class="w">      </span><span class="nx">theta</span><span class="p">=</span><span class="nx">x</span><span class="o">*</span><span class="m m-Double">0.0174533</span>
<span class="w">      </span><span class="nx">r</span><span class="p">(</span><span class="nx">k</span><span class="p">)=</span><span class="m m-Double">2.0</span><span class="o">*</span><span class="p">(</span><span class="m m-Double">1.0</span><span class="o">-</span><span class="nx">cos</span><span class="p">(</span><span class="nx">theta</span><span class="p">))</span>
<span class="w">      </span><span class="nx">angle</span><span class="p">(</span><span class="nx">k</span><span class="p">)=</span><span class="nx">theta</span>
<span class="w">      </span><span class="nx">x</span><span class="p">=</span><span class="nx">x</span><span class="o">+</span><span class="m m-Double">10.0</span>
<span class="w">   </span><span class="nx">enddo</span>
<span class="w">   </span><span class="nx">call</span><span class="w"> </span><span class="nx">plot</span><span class="p">(</span><span class="m m-Double">5.0</span><span class="p">,</span><span class="m m-Double">0.75</span><span class="p">,</span><span class="o">-</span><span class="mi">3</span><span class="p">)</span>
<span class="w">   </span><span class="nx">call</span><span class="w"> </span><span class="nx">polar</span><span class="p">(</span><span class="nx">r</span><span class="p">,</span><span class="nx">angle</span><span class="p">,</span><span class="mi">19</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="m m-Double">0.0</span><span class="p">,</span><span class="m m-Double">1.0</span><span class="p">)</span>
<span class="w">   </span><span class="nx">angl</span><span class="w"> </span><span class="p">=</span><span class="m m-Double">30.0</span>
<span class="w">   </span><span class="nx">a</span><span class="p">=</span><span class="m m-Double">1.0</span>
<span class="w">   </span><span class="nx">do</span><span class="w">  </span><span class="nx">i</span><span class="p">=</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span>
<span class="w">      </span><span class="nx">theta</span><span class="p">=</span><span class="nx">angl</span><span class="w"> </span><span class="o">*</span><span class="m m-Double">0.0174533</span>
<span class="w">      </span><span class="nx">xa</span><span class="p">=</span><span class="nx">cos</span><span class="p">(</span><span class="nx">theta</span><span class="p">)</span>
<span class="w">      </span><span class="nx">ya</span><span class="p">=</span><span class="nx">sin</span><span class="p">(</span><span class="nx">theta</span><span class="p">)</span>
<span class="w">      </span><span class="nx">call</span><span class="w"> </span><span class="nx">plot</span><span class="p">(</span><span class="nx">xa</span><span class="p">,</span><span class="nx">ya</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="w">      </span><span class="nx">xb</span><span class="p">=</span><span class="m m-Double">1.1</span><span class="o">*</span><span class="nx">xa</span>
<span class="w">      </span><span class="nx">yb</span><span class="p">=</span><span class="m m-Double">1.1</span><span class="o">*</span><span class="nx">ya</span>
<span class="w">      </span><span class="nx">call</span><span class="w"> </span><span class="nx">plot</span><span class="p">(</span><span class="nx">xb</span><span class="p">,</span><span class="nx">yb</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="w">      </span><span class="nx">xc</span><span class="p">=</span><span class="nx">xb</span><span class="o">+</span><span class="m m-Double">0.05</span><span class="o">*</span><span class="nx">xa</span>
<span class="w">      </span><span class="nx">yc</span><span class="p">=</span><span class="nx">yb</span><span class="o">+</span><span class="m m-Double">0.05</span><span class="o">*</span><span class="nx">ya</span>
<span class="w">      </span><span class="k">if</span><span class="p">((</span><span class="nx">i</span><span class="o">-</span><span class="mi">3</span><span class="p">).</span><span class="nx">gt</span><span class="m m-Double">.0</span><span class="p">)</span><span class="k">then</span>
<span class="w">         </span><span class="nx">a</span><span class="p">=</span><span class="m m-Double">1.5</span>
<span class="w">      </span><span class="nx">endif</span>
<span class="w">      </span><span class="nx">beta</span><span class="p">=</span><span class="m m-Double">1.570797</span><span class="o">-</span><span class="nx">theta</span>
<span class="w">      </span><span class="nx">xd</span><span class="p">=</span><span class="nx">xc</span><span class="o">-</span><span class="m m-Double">0.105</span><span class="o">*</span><span class="nx">a</span><span class="o">*</span><span class="nx">cos</span><span class="p">(</span><span class="nx">beta</span><span class="p">)</span>
<span class="w">      </span><span class="nx">yd</span><span class="p">=</span><span class="nx">yc</span><span class="o">+</span><span class="m m-Double">0.105</span><span class="o">*</span><span class="nx">a</span><span class="o">*</span><span class="nx">sin</span><span class="p">(</span><span class="nx">beta</span><span class="p">)</span>
<span class="w">      </span><span class="nx">bang</span><span class="p">=</span><span class="m m-Double">270.0</span><span class="o">+</span><span class="nx">angl</span>
<span class="w">      </span><span class="nx">call</span><span class="w"> </span><span class="nx">number</span><span class="p">(</span><span class="nx">xd</span><span class="p">,</span><span class="nx">yd</span><span class="p">,</span><span class="m m-Double">0.105</span><span class="p">,</span><span class="nx">angl</span><span class="p">,</span><span class="w"> </span><span class="nx">bang</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="w">      </span><span class="nx">angl</span><span class="w"> </span><span class="p">=</span><span class="nx">angl</span><span class="w"> </span><span class="o">+</span><span class="m m-Double">30.0</span>
<span class="w">   </span><span class="nx">enddo</span>
<span class="w">   </span><span class="nx">xx</span><span class="p">=</span><span class="m m-Double">0.0</span>
<span class="w">   </span><span class="nx">do</span><span class="w"> </span><span class="nx">i</span><span class="p">=</span><span class="mi">1</span><span class="p">,</span><span class="mi">19</span>
<span class="w">      </span><span class="nx">angle</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">xx</span><span class="o">*</span><span class="m m-Double">0.0174533</span>
<span class="w">      </span><span class="nx">r</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="m m-Double">1.0</span>
<span class="w">      </span><span class="nx">xx</span><span class="p">=</span><span class="nx">xx</span><span class="o">+</span><span class="m m-Double">10.0</span>
<span class="w">   </span><span class="nx">enddo</span>
<span class="w">   </span><span class="nx">call</span><span class="w"> </span><span class="nx">polar</span><span class="p">(</span><span class="nx">r</span><span class="p">,</span><span class="nx">angle</span><span class="p">,</span><span class="mi">19</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="m m-Double">0.0</span><span class="p">,</span><span class="m m-Double">1.0</span><span class="p">)</span>
<span class="w">   </span><span class="nx">call</span><span class="w"> </span><span class="nx">plot</span><span class="p">(</span><span class="o">-</span><span class="m m-Double">5.0</span><span class="p">,</span><span class="o">-</span><span class="m m-Double">0.75</span><span class="p">,</span><span class="o">-</span><span class="mi">3</span><span class="p">)</span>
<span class="p">!</span><span class="w"> </span><span class="nx">AXIS</span><span class="w"> </span><span class="nx">IS</span><span class="w"> </span><span class="nx">DRAWN</span>
<span class="w">   </span><span class="nx">ibcd</span><span class="p">=</span><span class="err">&#39;&#39;</span>
<span class="w">   </span><span class="nx">call</span><span class="w"> </span><span class="nx">axis</span><span class="p">(</span><span class="m m-Double">1.0</span><span class="p">,</span><span class="m m-Double">0.75</span><span class="p">,</span><span class="nx">ibcd</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="m m-Double">4.0</span><span class="p">,</span><span class="m m-Double">0.0</span><span class="p">,</span><span class="m m-Double">4.0</span><span class="p">,</span><span class="o">-</span><span class="m m-Double">1.0</span><span class="p">)</span>
<span class="w">   </span><span class="nx">call</span><span class="w"> </span><span class="nx">axis</span><span class="p">(</span><span class="m m-Double">5.0</span><span class="p">,</span><span class="m m-Double">0.75</span><span class="p">,</span><span class="nx">ibcd</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="m m-Double">1.0</span><span class="p">,</span><span class="m m-Double">0.0</span><span class="p">,</span><span class="m m-Double">0.0</span><span class="p">,</span><span class="m m-Double">1.0</span><span class="p">)</span>
<span class="w">   </span><span class="nx">ibcd</span><span class="p">=</span><span class="err">&#39;</span><span class="nx">RADIUS</span><span class="p">=</span><span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="nx">COS</span><span class="p">(</span><span class="nx">ANGLE</span><span class="p">))</span><span class="err">&#39;</span>
<span class="w">   </span><span class="nx">call</span><span class="w"> </span><span class="nx">symbol</span><span class="p">(</span><span class="m m-Double">3.75</span><span class="p">,</span><span class="m m-Double">3.5</span><span class="p">,</span><span class="m m-Double">0.09</span><span class="p">,</span><span class="nx">ibcd</span><span class="p">,</span><span class="nx">inteq</span><span class="p">,</span><span class="m m-Double">0.0</span><span class="p">,</span><span class="mi">23</span><span class="p">)</span>
<span class="w">   </span><span class="nx">call</span><span class="w"> </span><span class="nx">plot</span><span class="p">(</span><span class="m m-Double">11.0</span><span class="p">,</span><span class="m m-Double">0.0</span><span class="p">,</span><span class="mi">999</span><span class="p">)</span>
<span class="nx">end</span><span class="w"> </span><span class="nx">program</span><span class="w"> </span><span class="nx">demo_scalg</span>
</code></pre></div>

<h2 id="license">LICENSE</h2>
<div class="codehilite"><pre><span></span><code>Public Domain
</code></pre></div>


    <h3>Arguments</h3>
        <table class="table table-striped varlist">
    <thead>
      <tr>
        <th scope="col">Type</th>
<th scope="col">Intent</th><th scope="col">Optional</th>        <th scope="col">Attributes</th>
        <th scope="col"></th>
        <th scope="col">Name</th>
        <th scope="col"></th>
    </thead>
    <tbody>
        <tr>
            <td>
              <span class="anchor" id="variable-array"></span>
              real
            </td>
<td></td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>array</strong>(inc,*)</td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-axlen"></span>
              real
            </td>
<td></td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>axlen</strong></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-npts~4"></span>
              integer
            </td>
<td></td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>npts</strong></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-inc~4"></span>
              integer
            </td>
<td></td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>inc</strong></td>
            <td>
                
            </td>
        </tr>
    </tbody>
  </table>

    <br>


    <section>    
      <h2>Variables</h2>
      <table class="table table-striped varlist">
    <thead>
      <tr>
        <th scope="col">Type</th>
<th scope="col">Visibility</th>        <th scope="col">Attributes</th>
        <th scope="col"></th>
        <th scope="col">Name</th>
<th></th><th scope="col">Initial</th>        <th scope="col"></th>
    </thead>
    <tbody>
        <tr>
            <td>
              <span class="anchor" id="variable-higint"></span>
              real,
            </td>
              <td>public</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>higint</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-j~12"></span>
              integer,
            </td>
              <td>public</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>j</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-lowint"></span>
              integer,
            </td>
              <td>public</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>lowint</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-x~30"></span>
              real,
            </td>
              <td>public</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>x</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-xmax~2"></span>
              real,
            </td>
              <td>public</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>xmax</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-xmin~3"></span>
              real,
            </td>
              <td>public</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>xmin</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
    </tbody>
  </table>

    </section>
    <br>
    
    

    
    



    
    <section>
    <h2><span class="anchor" id="src"></span>Source Code</h2>
    <div class="hl codehilite"><pre><span></span><span class="k">subroutine </span><span class="n">scalg</span><span class="p">(</span><span class="k">array</span><span class="p">,</span><span class="n">axlen</span><span class="p">,</span><span class="n">npts</span><span class="p">,</span><span class="n">inc</span><span class="p">)</span>

<span class="c">! ident_15=&quot;@(#) M_calcomp scalg(3f) determine scale factors for a logarithmic scale&quot;</span>

<span class="c">!  IN THE CALCOMP CORP. ORIGINAL, HAS A BUG: IF ARRAY CONTAINED</span>
<span class="c">!  ANY VALUES .LT. 1.0, THE LOWER BOUND OF THE AXIS WOULD BE TOO</span>
<span class="c">!  HIGH BY ONE &quot;CYCLE&quot; (FACTOR OR 10), CAUSING DATA TO GO OUTSIDE</span>
<span class="c">!  THE INTENDED AREA OF THE PLOT OR TO BE LOST.</span>
<span class="c">!</span>
<span class="kt">integer </span><span class="n">npts</span><span class="p">,</span><span class="w"> </span><span class="n">inc</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="p">,</span><span class="w"> </span><span class="n">lowint</span>
<span class="kt">real </span><span class="k">array</span><span class="p">(</span><span class="n">inc</span><span class="p">,</span><span class="o">*</span><span class="p">),</span><span class="w"> </span><span class="n">axlen</span><span class="p">,</span><span class="w"> </span><span class="n">xmin</span><span class="p">,</span><span class="w"> </span><span class="n">xmax</span><span class="p">,</span><span class="w"> </span><span class="n">higint</span><span class="p">,</span><span class="w"> </span><span class="n">x</span>
<span class="c">!</span>
<span class="w">   </span><span class="n">lowint</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="nb">nint</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">0.4999</span><span class="p">)</span>
<span class="w">   </span><span class="n">higint</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">anint</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">0.4999</span><span class="p">)</span>
<span class="c">!</span>
<span class="w">   </span><span class="n">xmin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="w">   </span><span class="n">xmax</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">xmin</span>
<span class="w">   </span><span class="k">do </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">npts</span>
<span class="w">      </span><span class="n">xmin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">min</span><span class="p">(</span><span class="n">xmin</span><span class="p">,</span><span class="w"> </span><span class="k">array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">j</span><span class="p">))</span>
<span class="w">      </span><span class="n">xmax</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">max</span><span class="p">(</span><span class="n">xmax</span><span class="p">,</span><span class="w"> </span><span class="k">array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">j</span><span class="p">))</span>
<span class="w">   </span><span class="k">enddo</span>
<span class="k">   </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lowint</span><span class="p">(</span><span class="n">log10</span><span class="p">(</span><span class="n">xmin</span><span class="p">))</span>
<span class="w">   </span><span class="k">array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">npts</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="mf">0.0</span><span class="w"> </span><span class="o">**</span><span class="w"> </span><span class="n">j</span>
<span class="w">   </span><span class="n">xmax</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">higint</span><span class="p">(</span><span class="n">log10</span><span class="p">(</span><span class="n">xmax</span><span class="p">))</span>
<span class="w">   </span><span class="k">array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">npts</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">xmax</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">j</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">axlen</span>

<span class="k">end subroutine </span><span class="n">scalg</span>
</pre></div>

    </section>
    <br>
    
    </div>
  </div>

      <hr>
    </div> <!-- /container -->
    <footer>
      <div class="container">
        <div class="row justify-content-between">
          <div class="col"><p>M_calcomp was developed by John S. Urban<br>&copy; 2024 
</p>
          </div>
          <div class="col">
            <p class="text-end">
              Documentation generated by
              <a href="https://github.com/Fortran-FOSS-Programmers/ford">FORD</a>
 on 2024-03-30 00:10              </p>
          </div>
        </div>
        <br>
      </div> <!-- /container -->
    </footer>

    <!-- Bootstrap core JavaScript -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>    

    <!-- MathJax JavaScript
             ================================================== -->
             <!-- Placed at the end of the document so the pages load faster -->
        <script type="text/x-mathjax-config">
          MathJax.Hub.Config({
          TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } },
          jax: ['input/TeX','input/MathML','output/HTML-CSS'],
          extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']
          });
        </script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

          <script src="../tipuesearch/tipuesearch_content.js"></script>
          <script src="../tipuesearch/tipuesearch_set.js"></script>
          <script src="../tipuesearch/tipuesearch.js"></script>

  </body>
</html>