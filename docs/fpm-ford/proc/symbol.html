<!-- -*- mode: jinja2 -*- -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="description" content="General Purpose Fortran project">
    <meta name="author" content="John S. Urban" >
    <link rel="icon" href="../favicon.png">

    <title>symbol &ndash; M_calcomp</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <!-- Font Awesome -->
    <link href="../css/fontawesome.min.css" rel="stylesheet">
    <link href="../css/brands.min.css" rel="stylesheet">
    <link href="../css/regular.min.css" rel="stylesheet">
    <link href="../css/solid.min.css" rel="stylesheet">
    <link href="../css/v4-font-face.min.css" rel="stylesheet">
    <link href="../css/v4-shims.min.css" rel="stylesheet">
    <!-- MathJax -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        TeX: { equationNumbers: { autoNumber: "AMS" } }
      });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.9/MathJax.js?config=TeX-AMS-MML_HTMLorMML" async
            integrity="sha256-DViIOMYdwlM/axqoGDPeUyf0urLoHMN4QACBKyB58Uw=" crossorigin="anonymous"></script>
    <!-- Other scripts and stylesheets -->
    <link href="../css/local.css" rel="stylesheet">
    <link href="../css/pygments.css" rel="stylesheet">
    <script src="../js/svg-pan-zoom.min.js"></script>
  </head>

  <body>

    <!-- Fixed navbar -->
    <div class="container-fluid mb-sm-4 mb-xl-2">
      <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
        <div class="container">
          <a class="navbar-brand" href="../index.html">M_calcomp </a>
          <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar"
                  aria-expanded="false" aria-controls="navbar" aria-label="Toggle navigation">
                  <span class="navbar-toggler-icon">
          </button>

          <div id="navbar" class="navbar-collapse collapse">
            <ul class="navbar-nav">
                  <li class="nav-item">
                    <a class="nav-link" href="../lists/files.html">Source Files</a>
                  </li>
                <li class="nav-item">
                  <a class="nav-link" href="../lists/modules.html">Modules</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="../lists/procedures.html">Procedures</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="../lists/programs.html">Programs</a>
                </li>
            </ul>
              <div class="d-flex align-items-end flex-grow-1">
                <form action="../search.html" role="search" class="ms-auto">
                  <input type="text" class="form-control" aria-label="Search" placeholder="Search" name="q" id="tipue_search_input" autocomplete="off" required>
                </form>
              </div>
          </div><!--/.nav-collapse -->
        </div>
      </nav>
    </div>

    <div class="container">
  <div class="row">
    <h1>symbol
      <small>Subroutine</small>
      
    </h1>
      <div class="container p-2 mb-4 bg-light border rounded-3">
    <div class="row align-items-center justify-content-between" id="info-bar">
      <div class="col">
        <ul class="list-inline" style="margin-bottom:0px;display:inline">

            <li class="list-inline-item" id="statements"><i class="fa fa-list-ol"></i>
              <a data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-html="true"
                 title=" 5.0% of total for procedures.">129 statements</a>
            </li>

            <li class="list-inline-item" id="source-file">
              <i class="fa fa-code"></i>
              <a href="../src/M_calcomp.F90"> Source File</a>
            </li>
        </ul>
      </div>
      <div class="col">
        <nav aria-label="breadcrumb">
          <ol class="breadcrumb justify-content-end mb-0">
                <li class="breadcrumb-item"><a href='../sourcefile/m_calcomp.f90.html'>M_calcomp.F90</a></li>
                <li class="breadcrumb-item"><a href='../module/m_calcomp.html'>M_calcomp</a></li>
            <li class="breadcrumb-item active" aria-current="page">symbol</li>
          </ol>
        </nav>
      </div>
    </div>
  </div>
  <script>
    // Enable Bootstrap tooltips
    (function () {
      const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]')
      const tooltipList = [...tooltipTriggerList].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl))
    })();
  </script>

  </div>
  
  <div class="row">
    <div class="col-md-3 hidden-xs hidden-sm visible-md visible-lg">
      <div id="sidebar">
      <h3>Contents</h3>
  
      <div class="card mb-4">
      <a data-bs-toggle="collapse" href="#vars-0"
         aria-expanded="false" aria-controls="vars-0">
         <h4 class="card-header bg-primary text-white">Variables</h4>
      </a>
      <div id="vars-0" class="collapse">
        <div class="list-group list-group-flush">
            <a class="list-group-item" href="../proc/symbol.html#variable-angl1">angl1</a>
            <a class="list-group-item" href="../proc/symbol.html#variable-angl2">angl2</a>
            <a class="list-group-item" href="../proc/symbol.html#variable-centrx">centrx</a>
            <a class="list-group-item" href="../proc/symbol.html#variable-centry">centry</a>
            <a class="list-group-item" href="../proc/symbol.html#variable-i~29">i</a>
            <a class="list-group-item" href="../proc/symbol.html#variable-ibcd~10">ibcd</a>
            <a class="list-group-item" href="../proc/symbol.html#variable-icnt">icnt</a>
            <a class="list-group-item" href="../proc/symbol.html#variable-ii~3">ii</a>
            <a class="list-group-item" href="../proc/symbol.html#variable-iseg">iseg</a>
            <a class="list-group-item" href="../proc/symbol.html#variable-isym">isym</a>
            <a class="list-group-item" href="../proc/symbol.html#variable-j~8">j</a>
            <a class="list-group-item" href="../proc/symbol.html#variable-numchr">numchr</a>
            <a class="list-group-item" href="../proc/symbol.html#variable-numseg">numseg</a>
            <a class="list-group-item" href="../proc/symbol.html#variable-pi">pi</a>
            <a class="list-group-item" href="../proc/symbol.html#variable-rad~3">rad</a>
            <a class="list-group-item" href="../proc/symbol.html#variable-theta~6">theta</a>
            <a class="list-group-item" href="../proc/symbol.html#variable-x1~5">x1</a>
            <a class="list-group-item" href="../proc/symbol.html#variable-x2~3">x2</a>
            <a class="list-group-item" href="../proc/symbol.html#variable-xfac">xfac</a>
            <a class="list-group-item" href="../proc/symbol.html#variable-xorg~2">xorg</a>
            <a class="list-group-item" href="../proc/symbol.html#variable-xrlorg">xrlorg</a>
            <a class="list-group-item" href="../proc/symbol.html#variable-y1~5">y1</a>
            <a class="list-group-item" href="../proc/symbol.html#variable-y2~3">y2</a>
            <a class="list-group-item" href="../proc/symbol.html#variable-yfac">yfac</a>
            <a class="list-group-item" href="../proc/symbol.html#variable-yorg~2">yorg</a>
            <a class="list-group-item" href="../proc/symbol.html#variable-yrlorg">yrlorg</a>
        </div>
      </div>
    </div>

  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
    <div class="card card-primary">
      <div class="card-header text-left"><h3 class="card-title">Source Code</h3></div>
      <div class="list-group">
        <a class="list-group-item" href="../proc/symbol.html#src">symbol</a>
      </div>
    </div>


  </div>

    </div>
    
    <div class="col-md-9" id='text'>
    <h2>public  subroutine symbol(xpage, ypage, height, string, inteq, angle, nchar)  
</h2>
    

    <h2 id="name">NAME</h2>
<div class="codehilite"><pre><span></span><code>symbol(3f) - [M_calcomp:basic] draw text string or marker
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis">SYNOPSIS</h2>
<p>The &ldquo;standard&rdquo; call which produces a line of text is:</p>
<div class="codehilite"><pre><span></span><code>    subroutine symbol(xpage,ypage,height,ibcd,inteq,angle,+nchar)
</code></pre></div>

<h2 id="description">DESCRIPTION</h2>
<p>The SYMBOL subroutine produces plot annotation at any angle
  and in practically any size. There are two SYMBOL call formats:</p>
<div class="codehilite"><pre><span></span><code>  <span class="mi">1</span><span class="ss">)</span> <span class="nv">the</span> <span class="s2">&quot;</span><span class="s">standard</span><span class="s2">&quot;</span> <span class="nv">call</span>, <span class="nv">which</span> <span class="nv">can</span> <span class="nv">be</span> <span class="nv">used</span> <span class="nv">to</span> <span class="nv">draw</span> <span class="nv">text</span> <span class="nv">such</span>
     <span class="nv">as</span> <span class="nv">titles</span>, <span class="nv">captions</span>, <span class="nv">and</span> <span class="nv">legends</span>.

  <span class="mi">2</span><span class="ss">)</span> <span class="nv">the</span> <span class="s2">&quot;</span><span class="s">special</span><span class="s2">&quot;</span> <span class="nv">call</span>, <span class="nv">which</span> <span class="nv">is</span> <span class="nv">used</span> <span class="nv">to</span> <span class="nv">draw</span> <span class="nv">special</span>
     <span class="nv">centered</span> <span class="nv">symbols</span> <span class="nv">such</span> <span class="nv">as</span> <span class="nv">a</span> <span class="nv">box</span>, <span class="nv">octagon</span>, <span class="nv">triangle</span>, <span class="nv">etc</span>., <span class="k">for</span>
     <span class="nv">denoting</span> <span class="nv">data</span> <span class="nv">points</span>.
</code></pre></div>

<p>Both forms of the SYMBOL calling sequence have seven arguments.
  Which form is being used is determined by the value of the NCHAR
  parameter.</p>
<p>The standard characters that are drawn by SYMBOL include the
  letters A-Z, digits 0-9, and certain special characters. See Table 2
  for a description of CALCOMP&rsquo;s symbol table.</p>
<p>The parameter NCHAR is used to specify whether a text string
  or a single symbol is being plotted. If NCHAR is &gt;= 0, the text
  string in IBCD is used. If NCHAR= -1 or -2, a single symbol is
  produced using the value of INTEQ (Which MUST then be between 0 and
  90, inclusive).</p>
<p>It is recommended that 999 be used for INTEQ when NCHAR is greater
  than or equal to zero, and either a dummy character variable (e.g.
  CHARACTER(len=1) :: DUMMY) or a literal character string (e.g. &rsquo; &lsquo;) be used
  for IBCD when NCHAR is less than zero (not just a plain word as a
  dummy variable)!</p>
<h2 id="options-for-strings">OPTIONS FOR STRINGS</h2>
<div class="codehilite"><pre><span></span><code><span class="w"> </span><span class="n">XPAGE</span><span class="p">,</span><span class="w"> </span><span class="n">YPAGE</span><span class="w">  </span><span class="n">are</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">coordinates</span><span class="p">,</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">inches</span><span class="p">,</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">lower</span><span class="w"> </span><span class="n">left</span><span class="o">-</span><span class="n">hand</span><span class="w"></span>
<span class="w">               </span><span class="n">corner</span><span class="w"> </span><span class="p">(</span><span class="n">before</span><span class="w"> </span><span class="n">character</span><span class="w"> </span><span class="n">rotation</span><span class="p">)</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="n">character</span><span class="w"></span>
<span class="w">               </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">produced</span><span class="o">.</span><span class="w"> </span><span class="n">The</span><span class="w"> </span><span class="n">pen</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="k">while</span><span class="w"> </span><span class="n">moving</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">point</span><span class="o">.</span><span class="w"></span>

<span class="w">               </span><span class="n">Annotation</span><span class="w"> </span><span class="n">may</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">continued</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">position</span><span class="w"> </span><span class="n">following</span><span class="w"></span>
<span class="w">               </span><span class="n">that</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">last</span><span class="w"> </span><span class="n">annotation</span><span class="w"> </span><span class="n">ended</span><span class="o">.</span><span class="w"> </span><span class="n">Continuation</span><span class="w"></span>
<span class="w">               </span><span class="n">occurs</span><span class="w"> </span><span class="n">when</span><span class="w"> </span><span class="n">XPAGE</span><span class="w"> </span><span class="ow">and</span><span class="o">/</span><span class="ow">or</span><span class="w"> </span><span class="n">YPAGE</span><span class="w"> </span><span class="n">equals</span><span class="w"> </span><span class="mf">999.0</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">may</span><span class="w"> </span><span class="n">be</span><span class="w"></span>
<span class="w">               </span><span class="n">applied</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">X</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">Y</span><span class="w"> </span><span class="n">independently</span><span class="o">.</span><span class="w"> </span><span class="p">(</span><span class="n">Calling</span><span class="w"> </span><span class="n">WHERE</span><span class="w"> </span><span class="n">to</span><span class="w"></span>
<span class="w">               </span><span class="n">obtain</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="n">pen</span><span class="w"> </span><span class="n">position</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">RXPAGE</span><span class="p">,</span><span class="w"> </span><span class="n">RYPAGE</span><span class="w"></span>
<span class="w">               </span><span class="ow">in</span><span class="w"> </span><span class="n">another</span><span class="w"> </span><span class="n">call</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">SYMBOL</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">give</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">results</span><span class="w"></span>
<span class="w">               </span><span class="k">as</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="mf">999.</span><span class="p">)</span><span class="w"></span>

<span class="w"> </span><span class="n">HEIGHT</span><span class="w">        </span><span class="k">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">height</span><span class="p">,</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">inches</span><span class="p">,</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">character</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"></span>
<span class="w">               </span><span class="n">plotted</span><span class="o">.</span><span class="w"> </span><span class="n">For</span><span class="w"> </span><span class="n">best</span><span class="w"> </span><span class="n">results</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">of</span><span class="w"></span>
<span class="w">               </span><span class="n">seven</span><span class="w"> </span><span class="n">times</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">standard</span><span class="w"> </span><span class="n">CALCOMP</span><span class="w"> </span><span class="n">increment</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="mf">0.01</span><span class="w"></span>
<span class="w">               </span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="p">,</span><span class="w"> </span><span class="mf">0.07</span><span class="p">,</span><span class="w"> </span><span class="mf">0.14</span><span class="p">,</span><span class="w"> </span><span class="mf">0.21</span><span class="p">),</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">values</span><span class="w"> </span><span class="n">are</span><span class="w"></span>
<span class="w">               </span><span class="n">acceptable</span><span class="o">.</span><span class="w"> </span><span class="n">The</span><span class="w"> </span><span class="n">width</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">character</span><span class="p">,</span><span class="w"> </span><span class="n">including</span><span class="w"> </span><span class="n">spacing</span><span class="p">,</span><span class="w"></span>
<span class="w">               </span><span class="k">is</span><span class="w"> </span><span class="n">normally</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">height</span><span class="w"> </span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="mi">10</span><span class="w"></span>
<span class="w">               </span><span class="n">characters</span><span class="w"> </span><span class="mf">0.14</span><span class="w"> </span><span class="n">inch</span><span class="w"> </span><span class="n">high</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="mf">1.4</span><span class="w"> </span><span class="n">inches</span><span class="w"> </span><span class="n">wide</span><span class="p">)</span><span class="o">.</span><span class="w"></span>

<span class="w"> </span><span class="n">IBCD</span><span class="w">          </span><span class="k">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">text</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">annotation</span><span class="o">.</span><span class="w"> </span><span class="n">The</span><span class="w"> </span><span class="n">character</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="w"></span>
<span class="w">               </span><span class="n">must</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">character</span><span class="w"> </span><span class="n">array</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">single</span><span class="w"> </span><span class="n">variable</span><span class="o">.</span><span class="w"> </span><span class="p">(</span><span class="n">The</span><span class="w"></span>
<span class="w">               </span><span class="n">data</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">stored</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">TYPE</span><span class="w"> </span><span class="n">CHARACTER</span><span class="o">.</span><span class="p">)</span><span class="w"></span>

<span class="w"> </span><span class="n">INTEQ</span><span class="w">         </span><span class="n">Ignored</span><span class="w"> </span><span class="p">(</span><span class="n">Assuming</span><span class="w"> </span><span class="n">NCHAR</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">positive</span><span class="o">!</span><span class="p">)</span><span class="w"></span>

<span class="w"> </span><span class="n">ANGLE</span><span class="w">         </span><span class="k">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">angle</span><span class="p">,</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">degrees</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">X</span><span class="w"> </span><span class="n">axis</span><span class="p">,</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">the</span><span class="w"></span>
<span class="w">               </span><span class="n">annotation</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">plotted</span><span class="o">.</span><span class="w"> </span><span class="n">If</span><span class="w"> </span><span class="n">ANGLE</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"></span>
<span class="w">               </span><span class="n">character</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">plotted</span><span class="w"> </span><span class="n">right</span><span class="w"> </span><span class="n">side</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">parallel</span><span class="w"></span>
<span class="w">               </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">X</span><span class="w"> </span><span class="n">axis</span><span class="o">.</span><span class="w"> </span><span class="n">The</span><span class="w"> </span><span class="n">absolute</span><span class="w"> </span><span class="n">magnitude</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">ANGLE</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="ow">not</span><span class="w"></span>
<span class="w">               </span><span class="n">exceed</span><span class="w"> </span><span class="mi">1800</span><span class="w"> </span><span class="n">degrees</span><span class="o">.</span><span class="w"></span>

<span class="w"> </span><span class="o">+</span><span class="n">NCHAR</span><span class="w">        </span><span class="k">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">characters</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">plotted</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">IBCD</span><span class="o">.</span><span class="w"></span>
<span class="w">               </span><span class="n">If</span><span class="w"> </span><span class="n">NCHAR</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">alphanumeric</span><span class="w"> </span><span class="n">character</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">produced</span><span class="p">,</span><span class="w"> </span><span class="n">using</span><span class="w"></span>
<span class="w">               </span><span class="n">a</span><span class="w"> </span><span class="n">single</span><span class="w"> </span><span class="n">character</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="n">element</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">IBCD</span><span class="o">.</span><span class="w"></span>
</code></pre></div>

<p>For example, the following call to SYMBOL will result in the characters TITLE
  10 being output beginning at the X and Y coordinates of 1.0 .</p>
<div class="codehilite"><pre><span></span><code> character(len=8) :: grlbl
 grlbl=&#39;title 10&#39;
 call symbol(1.0,1.0,0.14,grlbl,999,0.0,8)
</code></pre></div>

<h2 id="options-for-symbols">OPTIONS FOR SYMBOLS</h2>
<p>A second form is the &ldquo;special&rdquo; call, which produces only a single symbol
  based on the value of INTEQ - not on the ASCII representation of a character.</p>
<p>The &ldquo;special&rdquo; call is:</p>
<div class="codehilite"><pre><span></span><code>    <span class="k">call</span> <span class="nl">symbol</span><span class="ss">(</span><span class="nv">xpage</span>,<span class="nv">ypage</span>,<span class="nv">height</span>,<span class="nv">ibcd</span>,<span class="nv">inteq</span>,<span class="nv">angle</span>,<span class="o">-</span><span class="nv">nchar</span><span class="ss">)</span>

 <span class="nv">XPAGE</span>, <span class="nv">YPAGE</span>,   <span class="nv">are</span> <span class="nv">the</span> <span class="nv">same</span> <span class="nv">as</span> <span class="nv">described</span> <span class="k">for</span> <span class="nv">the</span> <span class="s2">&quot;</span><span class="s">standard</span><span class="s2">&quot;</span> <span class="nv">call</span>. <span class="k">If</span>
 <span class="nv">and</span> <span class="nv">ANGLE</span>       <span class="nv">the</span> <span class="nv">symbol</span> <span class="nv">to</span> <span class="nv">be</span> <span class="nv">produced</span> <span class="nv">is</span> <span class="nv">one</span> <span class="nv">of</span> <span class="nv">the</span> <span class="nv">centered</span> <span class="nv">symbols</span>
                 <span class="ss">(</span><span class="nv">e</span>.<span class="nv">g</span>., <span class="k">if</span> <span class="nv">INTEQ</span> <span class="nv">is</span> <span class="nv">less</span> <span class="nv">than</span> <span class="mi">14</span><span class="ss">)</span>, <span class="nv">XPAGE</span>, <span class="nv">YPAGE</span> <span class="nv">represent</span>
                 <span class="nv">the</span> <span class="nv">geometric</span> <span class="nv">center</span> <span class="nv">of</span> <span class="nv">the</span> <span class="nv">character</span> <span class="nv">produced</span>.

 <span class="nv">HEIGHT</span>          <span class="nv">is</span> <span class="nv">the</span> <span class="nv">height</span> <span class="ss">(</span><span class="nv">and</span> <span class="nv">width</span><span class="ss">)</span>, <span class="nv">in</span> <span class="nv">inches</span>, <span class="nv">of</span> <span class="nv">the</span> <span class="nv">centered</span>
                 <span class="nv">symbol</span> <span class="nv">to</span> <span class="nv">be</span> <span class="nv">drawn</span>. <span class="nv">Preferably</span>, <span class="nv">it</span> <span class="nv">should</span> <span class="nv">be</span> <span class="nv">a</span> <span class="nv">multiple</span>
                 <span class="nv">of</span> <span class="nv">four</span> <span class="nv">times</span> <span class="nv">the</span> <span class="nv">CALCOMP</span> <span class="mi">0</span>.<span class="mi">01</span> <span class="nv">increment</span> <span class="nv">size</span>.

 <span class="nv">IBCD</span>            <span class="nv">Ignored</span> <span class="ss">(</span><span class="nv">assuming</span> <span class="nv">NCHAR</span> <span class="nv">is</span> <span class="nv">negative</span><span class="o">!</span><span class="ss">)</span>

 <span class="nv">INTEQ</span>           <span class="nv">is</span> <span class="nv">the</span> <span class="nv">integer</span> <span class="nv">equivalent</span> <span class="nv">of</span> <span class="nv">the</span> <span class="nv">desired</span> <span class="nv">symbol</span>. <span class="nv">Valid</span>
                 <span class="nv">integers</span> <span class="nv">and</span> <span class="nv">their</span> <span class="nv">symbols</span> <span class="nv">are</span> <span class="nv">listed</span> <span class="nv">in</span> <span class="nv">the</span> <span class="nv">Symbol</span> <span class="nv">Table</span>
                 <span class="ss">(</span><span class="nv">Table</span> <span class="mi">2</span><span class="ss">)</span>. <span class="k">If</span> <span class="nv">INTEQ</span> <span class="nv">is</span> <span class="mi">0</span> <span class="nv">through</span> <span class="mi">14</span>, <span class="nv">a</span> <span class="nv">centered</span> <span class="nv">symbol</span>
                 <span class="nv">is</span> <span class="nv">produced</span>. <span class="nv">INTEQ</span> <span class="o">-</span><span class="nv">MUST</span><span class="o">-</span> <span class="nv">be</span> <span class="nv">greater</span> <span class="nv">than</span> <span class="nv">or</span> <span class="nv">equal</span> <span class="nv">to</span> <span class="nv">zero</span>
                 <span class="nv">and</span> <span class="nv">less</span> <span class="nv">than</span> <span class="nv">or</span> <span class="nv">equal</span> <span class="nv">to</span> <span class="mi">90</span> .

 <span class="nv">NCHAR</span>           <span class="nv">is</span> <span class="nv">negative</span> <span class="nv">and</span> <span class="nv">determines</span> <span class="nv">whether</span> <span class="nv">the</span> <span class="nv">pen</span> <span class="nv">is</span> <span class="nv">up</span> <span class="nv">or</span> <span class="nv">down</span>
                 <span class="nv">during</span> <span class="nv">the</span> <span class="nv">move</span> <span class="nv">to</span> <span class="nv">XPAGE</span>, <span class="nv">YPAGE</span>.

                 <span class="nv">When</span> <span class="nv">NCHAR</span> <span class="nv">is</span>:

                 <span class="o">-</span><span class="mi">1</span>, <span class="nv">the</span> <span class="nv">pen</span> <span class="nv">is</span> <span class="nv">up</span> <span class="nv">during</span> <span class="nv">the</span> <span class="nv">move</span>, <span class="nv">after</span> <span class="nv">which</span> <span class="nv">a</span> <span class="nv">single</span>
                 <span class="nv">symbol</span> <span class="nv">is</span> <span class="nv">produced</span>.

                 <span class="o">-</span><span class="mi">2</span>, <span class="nv">or</span> <span class="nv">less</span>, <span class="nv">the</span> <span class="nv">pen</span> <span class="nv">is</span> <span class="nv">down</span> <span class="nv">during</span> <span class="nv">the</span> <span class="nv">move</span>, <span class="nv">after</span> <span class="nv">which</span>
                 <span class="nv">a</span> <span class="nv">single</span> <span class="nv">symbol</span> <span class="nv">is</span> <span class="nv">produced</span>.
</code></pre></div>

<p>For example, the following call to SYMBOL will result in special symbol
  number 5 being output with its center at X and Y coordinates of 1.0 .</p>
<div class="codehilite"><pre><span></span><code>    CALL SYMBOL(1.0,1.0,0.16,&#39; &#39;,5,0.0,-1)
</code></pre></div>

<p>Table 2 shows the current symbols available and the integer equivalents for
  each symbol which are used in the &ldquo;special&rdquo; call. When a &ldquo;standard&rdquo; call to
  SYMBOL is made, the host computer&rsquo;s internal characters are translated to the
  appropriate characters from this table.</p>
<h2 id="examples">EXAMPLES</h2>
<p>Sample program</p>
<div class="codehilite"><pre><span></span><code><span class="nv">program</span> <span class="nv">demo_symbol</span>
<span class="nv">use</span> <span class="nv">M_calcomp</span>
<span class="nv">implicit</span> <span class="nv">none</span>

<span class="o">!</span> <span class="nv">produce</span> <span class="nv">a</span> <span class="nv">symbol</span> <span class="nv">table</span> <span class="nv">which</span> <span class="nv">shows</span> <span class="nv">the</span> <span class="nv">characters</span>
<span class="o">!</span> <span class="nv">available</span> <span class="nv">in</span> <span class="nv">the</span> <span class="nv">symbol</span><span class="ss">(</span><span class="mi">3</span><span class="nv">f</span><span class="ss">)</span> <span class="nv">routine</span>.
<span class="o">!</span>
<span class="nv">character</span><span class="ss">(</span><span class="nv">len</span><span class="o">=</span> <span class="mi">38</span><span class="ss">)</span>,<span class="nv">parameter</span> :: <span class="nv">ichr1</span><span class="o">=</span><span class="s1">&#39;</span><span class="s">CHARACTERS AVAILABLE IN SYMBOL ROUTINE</span><span class="s1">&#39;</span>
<span class="nv">character</span><span class="ss">(</span><span class="nv">len</span><span class="o">=</span> <span class="mi">38</span><span class="ss">)</span>,<span class="nv">parameter</span> :: <span class="nv">ichr2</span><span class="o">=</span><span class="s1">&#39;</span><span class="s">  FOR CALCOMP ON THE CRAY COMPUTER    </span><span class="s1">&#39;</span>
<span class="nv">character</span><span class="ss">(</span><span class="nv">len</span><span class="o">=</span> <span class="mi">60</span><span class="ss">)</span>,<span class="nv">parameter</span> :: <span class="nv">ichr3</span><span class="o">=</span><span class="s1">&#39;</span><span class="s">INTEGER FOR USE IN SYMBOL CALL SHOWN TO LEFT OF EACH SYMBOL</span><span class="s1">&#39;</span>
<span class="nv">character</span><span class="ss">(</span><span class="nv">len</span><span class="o">=</span> <span class="mi">1</span> <span class="ss">)</span>           :: <span class="nv">ibcd</span>
<span class="nv">integer</span>                      :: <span class="nv">ia</span>,<span class="nv">ib</span>
<span class="nv">integer</span>                      :: <span class="nv">m</span>, <span class="nv">inteq</span>
<span class="nv">real</span>                         :: <span class="nv">z</span>, <span class="nv">xs</span>, <span class="nv">ys</span>, <span class="nv">x</span>, <span class="nv">y</span>
   <span class="k">call</span> <span class="nl">plots</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>,<span class="mi">10</span>.<span class="mi">0</span>,<span class="mi">0</span>.<span class="mi">0</span>,<span class="mi">10</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">plot</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">8</span>,<span class="mi">0</span>.<span class="mi">8</span>,<span class="mi">1001</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">plot</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>,<span class="mi">11</span>.<span class="mi">0</span>,<span class="mi">2</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">plot</span><span class="ss">(</span><span class="mi">8</span>.<span class="mi">5</span>,<span class="mi">11</span>.<span class="mi">0</span>,<span class="mi">2</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">plot</span><span class="ss">(</span><span class="mi">8</span>.<span class="mi">5</span>,<span class="mi">0</span>.<span class="mi">0</span>,<span class="mi">2</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">plot</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>,<span class="mi">0</span>.<span class="mi">0</span>,<span class="mi">2</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">symbol</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">4</span>,<span class="mi">10</span>.<span class="mi">50</span>,.<span class="mi">2</span>,<span class="nv">ichr1</span>,<span class="nv">inteq</span>,<span class="mi">0</span>.<span class="mi">0</span>,<span class="mi">38</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">symbol</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">4</span>,<span class="mi">10</span>.<span class="mi">25</span>,.<span class="mi">2</span>,<span class="nv">ichr2</span>,<span class="nv">inteq</span>,<span class="mi">0</span>.<span class="mi">0</span>,<span class="mi">38</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">plot</span><span class="ss">(</span><span class="mi">8</span>.<span class="mi">1</span>,<span class="mi">10</span>.<span class="mi">0</span>,<span class="mi">3</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">plot</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">4</span>,<span class="mi">10</span>.<span class="mi">0</span>,<span class="mi">2</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">plot</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">4</span>, <span class="mi">0</span>.<span class="mi">5</span>,<span class="mi">2</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">plot</span><span class="ss">(</span><span class="mi">8</span>.<span class="mi">1</span>, <span class="mi">0</span>.<span class="mi">5</span>,<span class="mi">2</span><span class="ss">)</span>
   <span class="nv">z</span><span class="o">=</span><span class="mi">0</span>.<span class="mi">0</span>
   <span class="nv">m</span><span class="o">=</span><span class="mi">0</span>
   <span class="nv">xs</span><span class="o">=</span><span class="mi">0</span>.<span class="mi">85</span>
   <span class="nv">ys</span><span class="o">=</span><span class="mi">0</span>.<span class="mi">25</span>
   <span class="nv">x</span><span class="o">=</span><span class="mi">0</span>.<span class="mi">4</span>
   <span class="nv">y</span><span class="o">=</span><span class="mi">9</span>.<span class="mi">5</span>
   <span class="k">do</span> <span class="nv">ia</span><span class="o">=</span><span class="mi">1</span>,<span class="mi">6</span>
      <span class="k">do</span> <span class="nv">ib</span><span class="o">=</span><span class="mi">1</span>,<span class="mi">15</span>
         <span class="k">call</span> <span class="nl">number</span><span class="ss">(</span><span class="nv">x</span><span class="o">+</span><span class="mi">0</span>.<span class="mi">10</span>,<span class="nv">y</span><span class="o">+</span><span class="mi">0</span>.<span class="mi">18</span>,<span class="mi">0</span>.<span class="mi">14</span>,<span class="nv">z</span>,<span class="mi">0</span>.<span class="mi">0</span>,<span class="o">-</span><span class="mi">1</span><span class="ss">)</span>
         <span class="k">call</span> <span class="nl">symbol</span><span class="ss">(</span><span class="nv">x</span><span class="o">+</span><span class="nv">xs</span>,<span class="nv">y</span><span class="o">+</span><span class="nv">ys</span>, <span class="mi">0</span>.<span class="mi">4</span>, <span class="nv">ibcd</span>,<span class="nv">m</span>,<span class="mi">0</span>.<span class="mi">0</span>,<span class="o">-</span><span class="mi">1</span><span class="ss">)</span>
         <span class="nv">Z</span><span class="o">=</span><span class="nv">Z</span><span class="o">+</span><span class="mi">1</span>.<span class="mi">0</span>
         <span class="nv">M</span><span class="o">=</span><span class="nv">M</span><span class="o">+</span><span class="mi">1</span>
         <span class="nv">Y</span><span class="o">=</span><span class="nv">Y</span><span class="o">-</span><span class="mi">0</span>.<span class="mi">6</span>
      <span class="nv">enddo</span>
      <span class="k">if</span><span class="ss">(</span><span class="nv">ia</span>.<span class="nv">eq</span>.<span class="mi">6</span><span class="ss">)</span> <span class="k">call</span> <span class="nl">number</span><span class="ss">(</span><span class="nv">x</span><span class="o">+</span><span class="mi">0</span>.<span class="mi">10</span>,<span class="nv">y</span><span class="o">+</span><span class="mi">0</span>.<span class="mi">18</span>,<span class="mi">0</span>.<span class="mi">14</span>,<span class="nv">z</span>,<span class="mi">0</span>.<span class="mi">0</span>,<span class="o">-</span><span class="mi">1</span><span class="ss">)</span>
      <span class="k">if</span><span class="ss">(</span><span class="nv">ia</span>.<span class="nv">eq</span>.<span class="mi">6</span><span class="ss">)</span> <span class="k">call</span> <span class="nl">symbol</span><span class="ss">(</span><span class="nv">x</span><span class="o">+</span><span class="nv">xs</span>,<span class="nv">y</span><span class="o">+</span><span class="nv">ys</span>,<span class="mi">0</span>.<span class="mi">4</span>,<span class="nv">ibcd</span>,<span class="nv">m</span>,<span class="mi">0</span>.<span class="mi">0</span>,<span class="o">-</span><span class="mi">1</span><span class="ss">)</span>
      <span class="nv">x</span><span class="o">=</span><span class="nv">x</span><span class="o">+</span><span class="mi">1</span>.<span class="mi">283</span>
      <span class="k">call</span> <span class="nl">plot</span><span class="ss">(</span><span class="nv">x</span>,<span class="mi">0</span>.<span class="mi">5</span>,<span class="mi">3</span><span class="ss">)</span>
      <span class="k">call</span> <span class="nl">plot</span><span class="ss">(</span><span class="nv">x</span>,<span class="mi">10</span>.<span class="mi">0</span>,<span class="mi">2</span><span class="ss">)</span>
      <span class="nv">y</span><span class="o">=</span><span class="mi">9</span>.<span class="mi">5</span>
      <span class="nv">xs</span><span class="o">=</span><span class="mi">0</span>.<span class="mi">65</span>
      <span class="nv">ys</span><span class="o">=</span><span class="mi">0</span>.<span class="mi">05</span>
   <span class="nv">enddo</span>
   <span class="k">call</span> <span class="nl">symbol</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">6</span>,<span class="mi">0</span>.<span class="mi">25</span>,<span class="mi">0</span>.<span class="mi">12</span>,<span class="nv">ichr3</span>,<span class="nv">inteq</span>,<span class="mi">0</span>.<span class="mi">0</span>,<span class="mi">60</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">nframe</span><span class="ss">()</span>
   <span class="k">call</span> <span class="nl">plot</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>,<span class="mi">0</span>.<span class="mi">0</span>,<span class="mi">999</span><span class="ss">)</span>
<span class="k">end</span> <span class="nv">program</span> <span class="nv">demo_symbol</span>
</code></pre></div>

<h2 id="license">LICENSE</h2>
<div class="codehilite"><pre><span></span><code>Public Domain
</code></pre></div>


    <h3>Arguments</h3>
        <table class="table table-striped varlist">
    <thead>
      <tr>
        <th scope="col">Type</th>
<th scope="col">Intent</th><th scope="col">Optional</th>        <th scope="col">Attributes</th>
        <th scope="col"></th>
        <th scope="col">Name</th>
        <th scope="col"></th>
    </thead>
    <tbody>
        <tr>
            <td>
              <span class="anchor" id="variable-xpage~3"></span>
              real
            </td>
<td></td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>xpage</strong></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-ypage~3"></span>
              real
            </td>
<td></td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>ypage</strong></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-height~4"></span>
              real
            </td>
<td></td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>height</strong></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-string"></span>
              character(len=*),
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>string</strong></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-inteq~13"></span>
              integer
            </td>
<td></td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>inteq</strong></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-angle~9"></span>
              real
            </td>
<td></td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>angle</strong></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-nchar~2"></span>
              integer
            </td>
<td></td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>nchar</strong></td>
            <td>
                
            </td>
        </tr>
    </tbody>
  </table>

    <br>


    <section>    
      <h2>Variables</h2>
      <table class="table table-striped varlist">
    <thead>
      <tr>
        <th scope="col">Type</th>
<th scope="col">Visibility</th>        <th scope="col">Attributes</th>
        <th scope="col"></th>
        <th scope="col">Name</th>
<th></th><th scope="col">Initial</th>        <th scope="col"></th>
    </thead>
    <tbody>
        <tr>
            <td>
              <span class="anchor" id="variable-angl1"></span>
              real,
            </td>
              <td>public</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>angl1</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-angl2"></span>
              real,
            </td>
              <td>public</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>angl2</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-centrx"></span>
              real,
            </td>
              <td>public</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>centrx</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-centry"></span>
              real,
            </td>
              <td>public</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>centry</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-i~29"></span>
              integer,
            </td>
              <td>public</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>i</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-ibcd~10"></span>
              character(len=:),
            </td>
              <td>public,</td>
            <td>
              allocatable
            </td>
            <td>::</td>
            <td><strong>ibcd</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-icnt"></span>
              integer,
            </td>
              <td>public</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>icnt</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-ii~3"></span>
              integer,
            </td>
              <td>public</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>ii</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-iseg"></span>
              integer,
            </td>
              <td>public</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>iseg</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-isym"></span>
              integer,
            </td>
              <td>public</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>isym</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-j~8"></span>
              integer,
            </td>
              <td>public</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>j</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-numchr"></span>
              integer,
            </td>
              <td>public</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>numchr</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-numseg"></span>
              integer,
            </td>
              <td>public</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>numseg</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-pi"></span>
              real,
            </td>
              <td>public,</td>
            <td>
parameter               
            </td>
            <td>::</td>
            <td><strong>pi</strong></td>
<td> =</td>
                <td>3.14159265</td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-rad~3"></span>
              real,
            </td>
              <td>public</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>rad</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-theta~6"></span>
              real,
            </td>
              <td>public</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>theta</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-x1~5"></span>
              real,
            </td>
              <td>public</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>x1</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-x2~3"></span>
              real,
            </td>
              <td>public</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>x2</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-xfac"></span>
              real,
            </td>
              <td>public</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>xfac</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-xorg~2"></span>
              real,
            </td>
              <td>public</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>xorg</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-xrlorg"></span>
              real,
            </td>
              <td>public,</td>
            <td>
              save
            </td>
            <td>::</td>
            <td><strong>xrlorg</strong></td>
<td> =</td>
                <td>0.0</td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-y1~5"></span>
              real,
            </td>
              <td>public</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>y1</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-y2~3"></span>
              real,
            </td>
              <td>public</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>y2</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-yfac"></span>
              real,
            </td>
              <td>public</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>yfac</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-yorg~2"></span>
              real,
            </td>
              <td>public</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>yorg</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-yrlorg"></span>
              real,
            </td>
              <td>public,</td>
            <td>
              save
            </td>
            <td>::</td>
            <td><strong>yrlorg</strong></td>
<td> =</td>
                <td>0.0</td>
            <td>
                
            </td>
        </tr>
    </tbody>
  </table>

    </section>
    <br>
    
    

    
    



    
    <section>
    <h2><span class="anchor" id="src"></span>Source Code</h2>
    <div class="hl codehilite"><pre><span></span><span class="k">subroutine </span><span class="n">symbol</span><span class="p">(</span><span class="n">xpage</span><span class="p">,</span><span class="n">ypage</span><span class="p">,</span><span class="n">height</span><span class="p">,</span><span class="n">string</span><span class="p">,</span><span class="n">inteq</span><span class="p">,</span><span class="n">angle</span><span class="p">,</span><span class="n">nchar</span><span class="p">)</span><span class="w"></span>

<span class="c">! ident_28=&quot;@(#) M_calcomp symbol(3f) draw text string or marker&quot;</span>

<span class="c">!</span>
<span class="c">!  PROCEDURE DESCRIPTION -</span>
<span class="c">!</span>
<span class="c">!       THIS SUBROUTINE DRAWS THE SYMBOLS DEFINED FOR THE CALCOMP</span>
<span class="c">!       PACKAGE.</span>
<span class="c">!</span>
<span class="c">!       EACH SYMBOL IS DEFINED AS A SERIES OF STRAIGHT LINE SEGMENTS</span>
<span class="c">!       ON A 7 X 7 GRID. THE HEIGHT OF THE SYMBOL AS DEFINED BY THE</span>
<span class="c">!       USER IS, IN REALITY, THE LENGTH OF A SIDE OF THIS DEFINING</span>
<span class="c">!       GRID. THEREFORE, EACH LINE SEGMENT IN THE SYMBOL IS SCALED</span>
<span class="c">!       TO CORRESPOND TO THE SYMBOL SIZE REQUESTED BY THE USER.</span>
<span class="c">!</span>
<span class="c">!       FOR EASE OF DEFINITION, THE SYMBOLS WERE ORIGINALLY</span>
<span class="c">!       CONSTRUCTED IN TERMS OF RECTANGULAR COORDINATES. HOWEVER,</span>
<span class="c">!       THE USER MAY ALSO SPECIFY AN ANGLE OF ORIENTATION FOR THE</span>
<span class="c">!       SYMBOL. TO ACCOMPLISH THIS, EACH SEGMENT IS TRANSFORMED</span>
<span class="c">!       FROM CARTESIAN TO POLAR COORDINATES AND IS THEN ROTATED</span>
<span class="c">!       THROUGH THE SPECIFIED ANGLE. THE TRANSFORMATION FROM</span>
<span class="c">!       RECTANGULAR TO POLAR COORDINATES IS PERFORMED EACH TIME</span>
<span class="c">!       A SYMBOL IS DRAWN, EVEN IF THE DEFAULT ANGLE OF ORIENTATION</span>
<span class="c">!       (0 DEGREES) IS TO BE USED. THIS WAS DONE TO PRESERVE</span>
<span class="c">!       CONSISTENCY FOR THE CONSTRUCTION OF ALL SYMBOLS.</span>
<span class="c">!</span>
<span class="c">!       THE SYMBOL TABLE, CONTAINED IN THE ARRAY &#39;TABLE&#39;, CONTAINS</span>
<span class="c">!       THE DEFINITION OF EACH SYMBOL IN RECTANGULAR COORDINATES.</span>
<span class="c">!       &#39;TABLE&#39; IS CONSTRUCTED IN THE FOLLOWING MANNER:</span>
<span class="c">!</span>
<span class="c">!            THE FIRST ENTRY FOR ANY SYMBOL IS THE INTEGER</span>
<span class="c">!            NUMBER TO WHICH THE SYMBOL IS EQUATED (THIS</span>
<span class="c">!            EQUIVALENCE IS DEFINED IN THE ORIGINAL CALCOMP</span>
<span class="c">!            PACKAGE). THE NEXT ENTRY IS THE NUMBER OF</span>
<span class="c">!            LINE SEGMENTS THAT ARE NEEDED TO DRAW THE SYMBOL.</span>
<span class="c">!            THIS IS FOLLOWED BY &#39;N&#39; ENTRIES (WHERE &#39;N&#39; IS</span>
<span class="c">!            THE NUMBER OF SEGMENTS), CONTAINING THE ACTUAL</span>
<span class="c">!            COORDINATE SPECIFICATIONS FOR EACH LINE SEGMENT.</span>
<span class="c">!</span>
<span class="c">!            EXAMPLE:  THE FOLLOWING SHOWS THE DEFINITION OF</span>
<span class="c">!            THE FIRST TWO SYMBOLS IN THE &#39;TABLE&#39; ARRAY.</span>
<span class="c">!</span>
<span class="c">!            TABLE_Q(1)=O             SYMBOL INTEGER EQUIVALENT</span>
<span class="c">!            TABLE_Q(2)=5             5 LINE SEGMENTS ARE NEEDED</span>
<span class="c">!                                      TO DRAW THIS SYMBOL</span>
<span class="c">!            TABLE_Q(3)=0040          LINE SEGMENT BETWEEN (0,0)</span>
<span class="c">!                                      AND (4,0)</span>
<span class="c">!            TABLE_Q(4)=4044          LINE SEGMENT BETWEEN (4,0)</span>
<span class="c">!                                      AND (4,4)</span>
<span class="c">!            TABLE_Q(5)=4404          LINE SEGMENT BETWEEN (4,4)</span>
<span class="c">!                                      AND (0,4)</span>
<span class="c">!            TABLE_Q(6)=0400          LINE SEGMENT BETWEEN (0,4)</span>
<span class="c">!                                      AND (0,0)</span>
<span class="c">!            TABLE_Q(7)=2224          LINE SEGMENT BETWEEN (2,2)</span>
<span class="c">!                                      AND (2,4)</span>
<span class="c">!            TABLE_Q(8)=1             SYMBOL INTEGER EQUIVALENT</span>
<span class="c">!            TABLE_Q(9)=9             9 LINE SEGMENTS ARE NEEDED</span>
<span class="c">!                                      TO DRAW THIS SYMBOL</span>
<span class="c">!            TABLE_Q(10)=0110         LINE SEGMENT BETWEEN (0,1)</span>
<span class="c">!                                      AND (1,0)</span>
<span class="c">!            TABLE_Q(11)=1030         LINE SEGMENT BETWEEN (1,0)</span>
<span class="c">!                                      AND (3,0)</span>
<span class="c">!            TABLE_Q(12)=3041         LINE SEGMENT BETWEEN (3,0)</span>
<span class="c">!                                      AND (4,1)</span>
<span class="c">!            TABLE_Q(13)=4143         LINE SEGMENT BETWEEN (4,1)</span>
<span class="c">!                                      AND (4,3)</span>
<span class="c">!            TABLE_Q(14)=4334         LINE SEGMENT BETWEEN (4,3)</span>
<span class="c">!                                      AND (3,4)</span>
<span class="c">!            TABLE_Q(15)=3414         LINE SEGMENT BETWEEN (3,4)</span>
<span class="c">!                                      AND (1,4)</span>
<span class="c">!            TABLE_Q(16)=1403         LINE SEGMENT BETWEEN (1,4)</span>
<span class="c">!                                      AND (0,3)</span>
<span class="c">!            TABLE_Q(17)=0301         LINE SEGMENT BETWEEN (0,3)</span>
<span class="c">!                                      AND (0,1)</span>
<span class="c">!            TABLE_Q(18)=2224         LINE SEGMENT BETWEEN (2,2)</span>
<span class="c">!                                      AND (2,4)</span>
<span class="c">!</span>
<span class="c">!       THE POSITION SPECIFIED FOR THE SYMBOL BY THE CALLING</span>
<span class="c">!       ARGUMENTS IS THE LOWER LEFT CORNER OF THIS SYMBOL DEFINITION</span>
<span class="c">!       GRID.</span>
<span class="c">!</span>
<span class="c">!</span>
<span class="c">!  SUBROUTINES CALLED -</span>
<span class="c">!</span>
<span class="c">!       PLOT           CALCOMP ROUTINE; RETURNS THE CURRENTLY DEFINED</span>
<span class="c">!                           ORIGIN FOR THE FRAME</span>
<span class="c">!</span>
<span class="c">!       primitive__draw_line        GRAPHICS PRIMITIVE; DRAWS A STRAIGHT LINE</span>
<span class="c">!                           BETWEEN 2 SPECIFIED POINTS</span>
<span class="c">!</span>
<span class="c">!</span>
<span class="c">!  FUNCTIONS USED -</span>
<span class="c">!</span>
<span class="c">!       ABS            SYSTEM FUNCTION; CALCULATES THE ABSOLUTE</span>
<span class="c">!                           VALUE OF A REAL NUMBER</span>
<span class="c">!</span>
<span class="c">!       ATAN           SYSTEM FUNCTION; CALCULATES INVERSE TANGENT</span>
<span class="c">!</span>
<span class="c">!       COS            SYSTEM FUNCTION; CALCULATES COSINE</span>
<span class="c">!</span>
<span class="c">!       SIN            SYSTEM FUNCTION; CALCULATES SINE</span>
<span class="c">!</span>
<span class="c">!       SQRT           SYSTEM FUNCTION; CALCULATES SQUARE ROOT</span>
<span class="c">!</span>
<span class="c">!</span>
<span class="c">!  CALLING ARGUMENTS -</span>
<span class="c">!</span>
<span class="c">!       ANGLE          ORIENTATION ANGLE FOR SYMBOL IN DEGREES</span>
<span class="c">!</span>
<span class="c">!       HEIGHT         SIZE (HEIGHT) OF SYMBOL TO BE DRAWN</span>
<span class="c">!</span>
<span class="c">!       IBCD           CHARACTER STRING TO BE DRAWN</span>
<span class="c">!</span>
<span class="c">!       INTEQ          INTEGER EQUIVALENT OF SYMBOL TO BE DRAWN</span>
<span class="c">!</span>
<span class="c">!       NCHAR          IF A CHARACTER STRING IS TO BE DRAWN, THE</span>
<span class="c">!                      NUMBER OF CHARACTERS IN THE STRING;</span>
<span class="c">!                      IF THE INTEGER EQUIVALENT OF A SYMBOL</span>
<span class="c">!                      IS SPECIFIED, FLAG TO INDICATE IF THE</span>
<span class="c">!                      PEN IS TO BE &quot;UP&quot; (NCHAR=-1) OR &quot;DOWN&quot;</span>
<span class="c">!                      (NCHAR LESS THAN OR EQUAL -2) WHEN</span>
<span class="c">!                      MOVING TO THE STARTING POINT OF THE</span>
<span class="c">!                      SYMBOL</span>
<span class="c">!</span>
<span class="c">!       XPAGE          X COORDINATE FOR LOWER LEFT CORNER OF</span>
<span class="c">!                      SYMBOL DEFINITION GRID</span>
<span class="c">!</span>
<span class="c">!       YPAGE          Y COORDINATE FOR LOWER LEFT CORNER OF</span>
<span class="c">!                      SYMBOL DEFINITION GRID</span>
<span class="c">!</span>
<span class="c">!</span>
<span class="c">!  VARIABLE NAMES USED -</span>
<span class="c">!</span>
<span class="c">!       ALPHA_Q    ARRAY   CHARACTER EQUIVALENTS USED TO PARSE THE</span>
<span class="c">!                             CHARACTER STRING TO BE DRAWN</span>
<span class="c">!</span>
<span class="c">!       ANGL1            ANGLE FOR POLAR EQUIVALENT OF FIRST</span>
<span class="c">!                             COORDINATE OF LINE SEGMENT</span>
<span class="c">!</span>
<span class="c">!       ANGL2            ANGLE FOR POLAR EQUIVALENT OF SECOND</span>
<span class="c">!                             COORDINATE OF LINE SEGMENT</span>
<span class="c">!</span>
<span class="c">!       ANGLE            *** CALLING ARGUMENT ***</span>
<span class="c">!</span>
<span class="c">!       CENTRX           SYMBOL CENTERING FACTOR (X DIRECTION)</span>
<span class="c">!</span>
<span class="c">!       CENTRY           SYMBOL CENTERING FACTOR (Y DIRECTION)</span>
<span class="c">!</span>
<span class="c">!       HEIGHT           *** CALLING ARGUMENT ***</span>
<span class="c">!</span>
<span class="c">!       I                INTEGER POINTER FOR SYMBOL ARRAYS</span>
<span class="c">!</span>
<span class="c">!       IBCD             *** CALLING ARGUMENT ***</span>
<span class="c">!</span>
<span class="c">!       ICNT             INTEGER COUNTER OF THE NUMBER OF</span>
<span class="c">!                             CHARACTERS DRAWN</span>
<span class="c">!</span>
<span class="c">!       INTEQ            *** CALLING ARGUMENT ***</span>
<span class="c">!</span>
<span class="c">!       ISEG             TEMPORARY STORAGE FOR ELEMENT READ</span>
<span class="c">!                             FROM &#39;TABLE&#39; ARRAY</span>
<span class="c">!</span>
<span class="c">!       ISYM             INTEGER EQUIVALENT OF SYMBOL TO BE</span>
<span class="c">!                             DRAWN; USED TO LOCATE THE</span>
<span class="c">!                             SYMBOL DEFINITION IN THE SYMBOL</span>
<span class="c">!                             TABLE ARRAY</span>
<span class="c">!</span>
<span class="c">!       J                INTEGER DO LOOP INDEX</span>
<span class="c">!</span>
<span class="c">!       NCHAR            *** CALLING ARGUMENT ***</span>
<span class="c">!</span>
<span class="c">!       NUMCHR           NUMBER OF CHARACTERS TO BE DRAWN;</span>
<span class="c">!                             INCLUDES ADJUSTMENT FOR THE CASE</span>
<span class="c">!                             WHERE &#39;NCHAR&#39; IS ZERO</span>
<span class="c">!</span>
<span class="c">!       NUMSEG           NUMBER OF SEGMENTS NEEDED TO DRAW THE</span>
<span class="c">!                             SYMBOL; EXTRACTED FROM &#39;TABLE&#39;</span>
<span class="c">!</span>
<span class="c">!       PI               MATHEMATICAL CONSTANT; DEFINED TO THREE</span>
<span class="c">!                             SIGNIFICANT FIGURES</span>
<span class="c">!</span>
<span class="c">!       RAD              RADIUS FOR TRANSFORMATION FROM</span>
<span class="c">!                             RECTANGULAR TO POLAR COORDINATES</span>
<span class="c">!</span>
<span class="c">!       TABLE    ARRAY   COMPLETE SYMBOL TABLE DEFINITION</span>
<span class="c">!</span>
<span class="c">!       THETA            ANGLE OF SYMBOL ORIENTATION SPECIFIED</span>
<span class="c">!                             BY USER; CONVERTED TO RADIANS</span>
<span class="c">!</span>
<span class="c">!       X1               X COORDINATE OF STARTING POINT OF LINE</span>
<span class="c">!                             SEGMENT</span>
<span class="c">!</span>
<span class="c">!       X2               X COORDINATE OF ENDING POINT OF LINE</span>
<span class="c">!                             SEGMENT</span>
<span class="c">!</span>
<span class="c">!       XFAC             SCALING FACTOR IN X DIRECTION</span>
<span class="c">!</span>
<span class="c">!       XORG             X COORDINATE OF CURRENTLY DEFINED FRAME</span>
<span class="c">!                             ORIGIN</span>
<span class="c">!</span>
<span class="c">!       XPAGE            *** CALLING ARGUMENT ***</span>
<span class="c">!</span>
<span class="c">!       XRLORG           X COORDINATE OF LOWER LEFT CORNER OF</span>
<span class="c">!                             SYMBOL DEFINITION GRID FOR NEXT</span>
<span class="c">!                             SYMBOL WITH RESPECT TO THE CURRENT</span>
<span class="c">!                             SYMBOL</span>
<span class="c">!</span>
<span class="c">!       XSPC_Q             SYMBOL SPACING FOR X COORDINATE</span>
<span class="c">!                        (FEATURE ADDED FOR R. LINCOLN, ORLANDO)</span>
<span class="c">!</span>
<span class="c">!       Y1               Y COORDINATE OF STARTING POINT OF LINE</span>
<span class="c">!                             SEGMENT</span>
<span class="c">!</span>
<span class="c">!       Y2               Y COORDINATE OF ENDING POINT OF LINE</span>
<span class="c">!                             SEGMENT</span>
<span class="c">!</span>
<span class="c">!       YFAC             SCALING FACTOR IN Y DIRECTION</span>
<span class="c">!</span>
<span class="c">!       YORG             Y COORDINATE OF CURRENTLY DEFINED FRAME</span>
<span class="c">!                             ORIGIN</span>
<span class="c">!</span>
<span class="c">!       YPAGE            *** CALLING ARGUMENT ***</span>
<span class="c">!</span>
<span class="c">!       YRLORG           Y COORDINATE OF LOWER LEFT CORNER OF</span>
<span class="c">!                             SYMBOL DEFINITION GRID FOR NEXT</span>
<span class="c">!                             SYMBOL WITH RESPECT TO THE CURRENT</span>
<span class="c">!                             SYMBOL</span>
<span class="c">!</span>
<span class="c">!     YSPC_Q              SYMBOL SPACING FOR Y COORDINATE</span>
<span class="c">!                       (FEATURE ADDED FOR R. LINCOLN, ORLANDO)</span>
<span class="c">!</span>
<span class="w">      </span><span class="kt">character</span><span class="p">(</span><span class="nb">len</span><span class="o">=*</span><span class="p">),</span><span class="k">intent</span><span class="p">(</span><span class="n">in</span><span class="p">)</span><span class="w">  </span><span class="kd">::</span><span class="w"> </span><span class="n">string</span><span class="w"></span>
<span class="w">      </span><span class="kt">character</span><span class="p">(</span><span class="nb">len</span><span class="o">=</span><span class="p">:),</span><span class="k">allocatable</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">ibcd</span><span class="w"></span>
<span class="c">!</span>
<span class="c">! MODE FUNCTIONS ADDED 3/85</span>
<span class="c">!</span>
<span class="c">!  THE ARRAY &#39;ALPHA_Q&#39; CONTAINS THE CHARACTERS WHICH MAY APPEAR IN THE</span>
<span class="c">!  CHARACTER STRING &#39;IBCD&#39;.</span>
<span class="c">!</span>
<span class="c">!  THE ARRAY &#39;TABLE&#39; CONTAINS THE DEFINITION</span>
<span class="c">!  OF THE SYMBOL TABLE IN TERMS OF THE GRID COORDINATES</span>
<span class="c">!  NEEDED TO CONSTRUCT EACH SYMBOL.</span>
<span class="c">!</span>
<span class="c">!  THE VARIABLE &#39;PI&#39; CONTAINS THE APPROXIMATE VALUE OF THE MATHEMATICAL CONSTANT PI</span>
<span class="c">!</span>
<span class="c">!  INITIALIZE THE POINTER INTO THE CHARACTER STRING (THE VARIABLE</span>
<span class="c">!  &#39;ICNT&#39;) TO ZERO. INITIALIZE THE VARIABLE &#39;ISYM&#39;, WHICH CONTAINS</span>
<span class="c">!  THE INTEGER NUMBER ASSIGNED TO THE CURRENT SYMBOL, TO -1 (A</span>
<span class="c">!  NON-EXISTENT SYMBOL). DETERMINE THE NUMBER OF CHARACTERS CONTAINED</span>
<span class="c">!  IN THE ARRAY &#39;IBCD&#39;; IF THE NUMBER OF CHARACTERS IS ZERO, SET THE</span>
<span class="c">!  NUMBER OF CHARACTERS TO BE PRINTED (&#39;NUMCHR&#39;) TO 1 .</span>
<span class="c">!</span>
<span class="kt">real</span><span class="w">    </span><span class="kd">::</span><span class="w"> </span><span class="n">angl1</span><span class="w"></span>
<span class="kt">real</span><span class="w">    </span><span class="kd">::</span><span class="w"> </span><span class="n">angl2</span><span class="w"></span>
<span class="kt">real</span><span class="w">    </span><span class="kd">::</span><span class="w"> </span><span class="n">angle</span><span class="w"></span>
<span class="kt">real</span><span class="w">    </span><span class="kd">::</span><span class="w"> </span><span class="n">centrx</span><span class="w"></span>
<span class="kt">real</span><span class="w">    </span><span class="kd">::</span><span class="w"> </span><span class="n">centry</span><span class="w"></span>
<span class="kt">real</span><span class="w">    </span><span class="kd">::</span><span class="w"> </span><span class="n">height</span><span class="w"></span>
<span class="kt">integer</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">i</span><span class="w"></span>
<span class="kt">integer</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">icnt</span><span class="w"></span>
<span class="kt">integer</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">ii</span><span class="w"></span>
<span class="kt">integer</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">inteq</span><span class="w"></span>
<span class="kt">integer</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">iseg</span><span class="w"></span>
<span class="kt">integer</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">isym</span><span class="w"></span>
<span class="kt">integer</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">j</span><span class="w"></span>
<span class="kt">integer</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">nchar</span><span class="w"></span>
<span class="kt">integer</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">numchr</span><span class="w"></span>
<span class="kt">integer</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">numseg</span><span class="w"></span>
<span class="kt">real</span><span class="p">,</span><span class="k">parameter</span><span class="w">    </span><span class="kd">::</span><span class="w"> </span><span class="n">pi</span><span class="o">=</span><span class="mf">3.14159265</span><span class="w"></span>
<span class="kt">real</span><span class="w">    </span><span class="kd">::</span><span class="w"> </span><span class="n">rad</span><span class="w"></span>
<span class="kt">real</span><span class="w">    </span><span class="kd">::</span><span class="w"> </span><span class="n">theta</span><span class="w"></span>
<span class="kt">real</span><span class="w">    </span><span class="kd">::</span><span class="w"> </span><span class="n">x1</span><span class="w"></span>
<span class="kt">real</span><span class="w">    </span><span class="kd">::</span><span class="w"> </span><span class="n">x2</span><span class="w"></span>
<span class="kt">real</span><span class="w">    </span><span class="kd">::</span><span class="w"> </span><span class="n">xfac</span><span class="w"></span>
<span class="kt">real</span><span class="w">    </span><span class="kd">::</span><span class="w"> </span><span class="n">xorg</span><span class="w"></span>
<span class="kt">real</span><span class="w">    </span><span class="kd">::</span><span class="w"> </span><span class="n">xpage</span><span class="w"></span>
<span class="kt">real</span><span class="p">,</span><span class="k">save</span><span class="w">    </span><span class="kd">::</span><span class="w"> </span><span class="n">xrlorg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span><span class="w"></span>
<span class="kt">real</span><span class="w">    </span><span class="kd">::</span><span class="w"> </span><span class="n">y1</span><span class="w"></span>
<span class="kt">real</span><span class="w">    </span><span class="kd">::</span><span class="w"> </span><span class="n">y2</span><span class="w"></span>
<span class="kt">real</span><span class="w">    </span><span class="kd">::</span><span class="w"> </span><span class="n">yfac</span><span class="w"></span>
<span class="kt">real</span><span class="w">    </span><span class="kd">::</span><span class="w"> </span><span class="n">yorg</span><span class="w"></span>
<span class="kt">real</span><span class="w">    </span><span class="kd">::</span><span class="w"> </span><span class="n">ypage</span><span class="w"></span>
<span class="kt">real</span><span class="p">,</span><span class="k">save</span><span class="w">    </span><span class="kd">::</span><span class="w"> </span><span class="n">yrlorg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span><span class="w"></span>
<span class="w">      </span><span class="n">ibcd</span><span class="o">=</span><span class="n">upper</span><span class="p">(</span><span class="n">string</span><span class="p">)</span><span class="w"></span>
<span class="w">      </span><span class="n">icnt</span><span class="o">=</span><span class="mi">0</span><span class="w"></span>
<span class="w">      </span><span class="n">isym</span><span class="o">=-</span><span class="mi">1</span><span class="w"></span>
<span class="w">      </span><span class="n">numchr</span><span class="o">=</span><span class="n">nchar</span><span class="w"></span>
<span class="w">      </span><span class="k">call </span><span class="n">plot</span><span class="p">(</span><span class="n">xfac</span><span class="p">,</span><span class="n">yfac</span><span class="p">,</span><span class="mi">1003</span><span class="p">)</span><span class="w"></span>
<span class="w">      </span><span class="k">if</span><span class="p">(</span><span class="n">nchar</span><span class="p">.</span><span class="n">eq</span><span class="p">.</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="n">numchr</span><span class="o">=</span><span class="mi">1</span><span class="w"></span>
<span class="c">!</span>
<span class="c">!  IF EITHER OF THE CALLING ARGUMENT &#39;XPAGE&#39; OR &#39;YPAGE&#39; HAS A</span>
<span class="c">!  VALUE OF 999, THE NEXT SYMBOL IS TO BE APPENDED IN THE SPECIFIED</span>
<span class="c">!  DIRECTION TO THE LAST SYMBOL DRAWN. THE DIRECTION IS SPECIFIED</span>
<span class="c">!  BY WHICH ARGUMENT (EITHER &#39;XPAGE&#39; OR &#39;YPAGE&#39;) IS SET TO 999. IT</span>
<span class="c">!  IS POSSIBLE TO APPEND IN BOTH DIRECTIONS SIMULTANEOUSLY.</span>
<span class="c">!</span>
<span class="c">!  DETERMINE IF EITHER &#39;XPAGE&#39; OR &#39;YPAGE&#39; HAS A VALUE OF 999. IF</span>
<span class="c">!  NOT, REDEFINE THE APPROPRIATE RELATIVE ORIGIN FOR THE SYMBOL</span>
<span class="c">!  TO THE VALUE SPECIFIED.</span>
<span class="c">!</span>
<span class="w">      </span><span class="k">if</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">xpage</span><span class="o">-</span><span class="mi">99</span><span class="mf">9.0</span><span class="p">).</span><span class="n">gt</span><span class="p">.</span><span class="mf">0.0001</span><span class="p">)</span><span class="w"> </span><span class="n">xrlorg</span><span class="o">=</span><span class="n">xpage</span><span class="o">*</span><span class="n">xfac</span><span class="w"></span>
<span class="w">      </span><span class="k">if</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">ypage</span><span class="o">-</span><span class="mi">99</span><span class="mf">9.0</span><span class="p">).</span><span class="n">gt</span><span class="p">.</span><span class="mf">0.0001</span><span class="p">)</span><span class="w"> </span><span class="n">yrlorg</span><span class="o">=</span><span class="n">ypage</span><span class="o">*</span><span class="n">yfac</span><span class="w"></span>
<span class="c">!</span>
<span class="c">! ADDED FUNCTION TO SUPPORT HARDWARE CHARACTERS</span>
<span class="c">!</span>
<span class="w">      </span><span class="k">if</span><span class="p">(</span><span class="w"> </span><span class="n">cttyp_q</span><span class="w"> </span><span class="p">.</span><span class="n">eq</span><span class="p">.</span><span class="w"> </span><span class="s1">&#39;HARD&#39;</span><span class="w"> </span><span class="p">.</span><span class="nb">and</span><span class="p">.</span><span class="w"> </span><span class="n">nchar</span><span class="w"> </span><span class="p">.</span><span class="n">ge</span><span class="p">.</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="k">then</span>
<span class="k">         call </span><span class="n">plot</span><span class="p">(</span><span class="n">xorg</span><span class="p">,</span><span class="n">yorg</span><span class="p">,</span><span class="mi">1005</span><span class="p">)</span><span class="w"></span>
<span class="w">         </span><span class="k">call </span><span class="n">primitive__draw_text</span><span class="p">(</span><span class="n">xorg</span><span class="o">+</span><span class="n">xrlorg</span><span class="p">,</span><span class="n">yorg</span><span class="o">+</span><span class="n">yrlorg</span><span class="p">,</span><span class="n">ibcd</span><span class="p">,</span><span class="n">angle</span><span class="p">)</span><span class="w"></span>
<span class="w">         </span><span class="k">return</span>
<span class="k">      endif</span><span class="w"></span>
<span class="c">!</span>
<span class="c">!  CALCULATE THE SCALING FACTORS (IN THE X AND Y DIRECTIONS) FOR</span>
<span class="c">!  THE SYMBOL TO BE DRAWN. THE SCALING FACTOR IS BASED ON THE</span>
<span class="c">!  SYMBOL HEIGHT SPECIFIED BY THE USER IN THE CALL TO THE &#39;SYMBOL&#39;</span>
<span class="c">!  SUBROUTINE AND THE GENERAL SCALING FACTOR CURRENTLY SPECIFIED</span>
<span class="c">!  FOR THE PLOT. THE HEIGHT ENTERED BY THE USER IS DIVIDED BY</span>
<span class="c">!  7.0 TO ACCOUNT FOR THE FACT THAT THE SPECIFIED HEIGHT APPLIES</span>
<span class="c">!  TO THE ENTIRE 7 X 7 GRID FOR WHICH EACH SYMBOL IS DEFINED.</span>
<span class="c">!</span>
<span class="w">      </span><span class="n">xfac</span><span class="o">=</span><span class="n">height</span><span class="o">/</span><span class="mf">7.0</span><span class="o">*</span><span class="n">xfac</span><span class="w"></span>
<span class="w">      </span><span class="n">yfac</span><span class="o">=</span><span class="n">height</span><span class="o">/</span><span class="mf">7.0</span><span class="o">*</span><span class="n">yfac</span><span class="w"></span>
<span class="c">!</span>
<span class="c">!  MOVE THE PEN TO THE STARTING POINT FOR THE NEXT SYMBOL. IF THE</span>
<span class="c">!  NUMBER OF CHARACTERS TO BE DRAWN IS LESS THAN OR EQUAL TO -2, A</span>
<span class="c">!  LINE IS TO BE DRAWN FROM THE FINAL POINT OF THE LAST SYMBOL TO THE</span>
<span class="c">!  INITIAL POINT OF THE NEW SYMBOL. THEREFORE, IF NCHAR IS LESS</span>
<span class="c">!  THAN OR EQUAL TO -2, CALL THE &#39;PLOT&#39; SUBROUTINE WITH THE FINAL</span>
<span class="c">!  ARGUMENT SET TO 2 TO FORCE THE REQUESTED LINE TO BE DRAWN.</span>
<span class="c">!  OTHERWISE, CALL THE &#39;PLOT&#39; SUBROUTINE WITH THE FINAL ARGUMENT SET</span>
<span class="c">!  TO 3 TO ELEVATE THE PEN AND MOVE TO THE STARTING POINT OF THE NEW</span>
<span class="c">!  SYMBOL. (THE &#39;PLOT&#39; SUBROUTINE APPLIES ANY REQUIRED</span>
<span class="c">!  SCALING FACTORS.)</span>
<span class="c">!</span>
<span class="w">      </span><span class="k">if</span><span class="p">(</span><span class="n">nchar</span><span class="p">.</span><span class="n">le</span><span class="p">.</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">then</span>
<span class="k">         call </span><span class="n">plot</span><span class="p">(</span><span class="n">xpage</span><span class="p">,</span><span class="n">ypage</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="w"></span>
<span class="w">      </span><span class="k">else</span>
<span class="k">         call </span><span class="n">plot</span><span class="p">(</span><span class="n">xpage</span><span class="p">,</span><span class="n">ypage</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span><span class="w"></span>
<span class="w">      </span><span class="k">endif</span><span class="w"></span>
<span class="c">!</span>
<span class="c">!  DETERMINE THE ANGLE AT WHICH THE SYMBOL IS TO BE DRAWN. IF THE</span>
<span class="c">!  ABSOLUTE VALUE OF THE ANGLE IS LESS THAN OR EQUAL TO 1800.0 DEGREES,</span>
<span class="c">!  THE ANGLE IS CONSIDERED TO BE LEGITIMATE. OTHERWISE, THE ANGLE IS</span>
<span class="c">!  SET TO 0 DEGREES. THIS RESTRICTION WAS IMPLEMENTED TO ACCOMMODATE TH</span>
<span class="c">!  FACT THAT THE &#39;ANGLE&#39; ARGUMENT MAY BE UNINITIALIZED WHEN THE</span>
<span class="c">!  &#39;SYMBOL&#39; SUBROUTINE IS CALLED. THE RESTRICTION WAS CONSTRUCTED</span>
<span class="c">!  TO EXCLUDE BOTH LARGE POSITIVE NUMBERS AND LARGE NEGATIVE</span>
<span class="c">!  NUMBERS SINCE DIFFERENT OPERATING SYSTEMS EMPLOY VARYING</span>
<span class="c">!  METHODS TO INITIALIZE CENTRAL MEMORY.</span>
<span class="c">!</span>
<span class="w">      </span><span class="k">if</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">angle</span><span class="p">).</span><span class="n">le</span><span class="p">.</span><span class="mi">180</span><span class="mf">0.0</span><span class="p">)</span><span class="w"> </span><span class="k">then</span>
<span class="k">         </span><span class="n">theta</span><span class="o">=</span><span class="n">angle</span><span class="o">*</span><span class="n">pi</span><span class="o">/</span><span class="mi">18</span><span class="mf">0.0</span><span class="w"></span>
<span class="w">      </span><span class="k">else</span>
<span class="k">         </span><span class="n">theta</span><span class="o">=</span><span class="mf">0.0</span><span class="w"></span>
<span class="w">      </span><span class="k">endif</span><span class="w"></span>
<span class="c">!</span>
<span class="c">!  EACH SYMBOL IN THE SYMBOL TABLE HAS BEEN ASSIGNED A UNIQUE</span>
<span class="c">!  INTEGER VALUE BY WHICH THAT SYMBOL MAY BE IDENTIFIED.</span>
<span class="c">!</span>
<span class="c">!  IF NCHAR IS .LT. 0 A SYMBOL IS TO BE PRINTED</span>
<span class="c">!  IF NCHAR IS .GE. 0 THEN PRINT A STRING</span>
<span class="w">      </span><span class="k">if</span><span class="p">(</span><span class="n">nchar</span><span class="p">.</span><span class="n">lt</span><span class="p">.</span><span class="mi">0</span><span class="p">)</span><span class="k">then</span><span class="w"></span>
<span class="c">!     INTEGER EQUIVALENT ARGUMENT (&#39;INTEQ&#39;) MUST LIE BETWEEN 0 AND 91 .</span>
<span class="c">!   ? DETERMINE IF THE INTEGER EQUIVALENT ARGUMENT INTEQ HAS A LEGITIMATE VALUE</span>
<span class="c">!</span>
<span class="c">!        SET THE SYMBOL INDICATOR (ISYM) TO THE SYMBOL INTEGER EQUIVALENT</span>
<span class="w">         </span><span class="n">isym</span><span class="o">=</span><span class="n">inteq</span><span class="w"></span>
<span class="c">!        TRANSFER CONTROL TO THE PORTION OF THE SUBROUTINE WHICH EXTRACTS THE</span>
<span class="c">!        INSTRUCTIONS FOR DRAWING THE SYMBOL</span>
<span class="w">         </span><span class="k">goto</span><span class="w"> </span><span class="mi">20</span><span class="w"></span>
<span class="w">      </span><span class="k">endif</span><span class="w"></span>
<span class="c">!</span>
<span class="c">!  IF THIS PORTION OF THE SUBROUTINE IS REACHED, THE SYMBOL TO BE</span>
<span class="c">!  DRAWN HAS BEEN SPECIFIED AS A CHARACTER STRING. INCREMENT THE</span>
<span class="c">!  CHARACTER COUNTER, AND DETERMINE IF THE NUMBER OF CHARACTERS DRAWN</span>
<span class="c">!  HAS EXCEEDED THE NUMBER OF CHARACTERS SPECIFIED WHEN &#39;SYMBOL&#39; WAS</span>
<span class="c">!  CALLED. IF SO, PREPARE TO EXIT THIS SUBROUTINE. OTHERWISE, COMPARE</span>
<span class="c">!  THE NEXT ELEMENT IN THE CHARACTER STRING WITH THE &#39;ALPHA_Q&#39; ARRAY TO</span>
<span class="c">!  DETERMINE THE INTEGER EQUIVALENT OF THE NEXT CHARACTER TO BE DRAWN.</span>
<span class="c">!  (NOTE - THE FIRST 27 SYMBOLS IN THE SYMBOL TABLE ARE SPECIAL</span>
<span class="c">!  SYMBOLS. HENCE, THE INTEGER EQUIVALENT OF ANY CHARACTER IS</span>
<span class="c">!  OFFSET FROM ITS POSITION IN &#39;ALPHA_Q&#39; BY 27.)</span>
<span class="c">!</span>
<span class="mi">5</span><span class="w">     </span><span class="n">icnt</span><span class="o">=</span><span class="n">icnt</span><span class="o">+</span><span class="mi">1</span><span class="w"></span>
<span class="w">      </span><span class="k">if</span><span class="p">(</span><span class="n">icnt</span><span class="p">.</span><span class="n">gt</span><span class="p">.</span><span class="n">numchr</span><span class="p">)</span><span class="w"> </span><span class="k">goto</span><span class="w"> </span><span class="mi">100</span><span class="w"></span>
<span class="c">! MODIFIED MAX DO INDEX FROM 96 FOR ORLANDO</span>
<span class="w">      </span><span class="k">do </span><span class="mi">10</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="mi">63</span><span class="w"></span>
<span class="w">         </span><span class="k">if</span><span class="p">(</span><span class="n">ibcd</span><span class="p">(</span><span class="n">icnt</span><span class="p">:</span><span class="n">icnt</span><span class="p">).</span><span class="n">eq</span><span class="p">.</span><span class="n">alpha_q</span><span class="p">(</span><span class="n">i</span><span class="p">))</span><span class="w"> </span><span class="k">then</span>
<span class="k">            </span><span class="n">isym</span><span class="o">=</span><span class="n">i</span><span class="o">+</span><span class="mi">27</span><span class="w"></span>
<span class="w">            </span><span class="k">goto</span><span class="w"> </span><span class="mi">20</span><span class="w"></span>
<span class="w">         </span><span class="k">endif</span>
<span class="mi">10</span><span class="w">    </span><span class="k">continue</span>
<span class="k">      write</span><span class="w"> </span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">15</span><span class="p">)</span><span class="n">ibcd</span><span class="p">(</span><span class="n">icnt</span><span class="p">:</span><span class="n">icnt</span><span class="p">)</span><span class="w"></span>
<span class="w">      </span><span class="k">write</span><span class="w"> </span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="s1">&#39;(63A1)&#39;</span><span class="p">)(</span><span class="n">alpha_q</span><span class="p">(</span><span class="n">ii</span><span class="p">),</span><span class="n">ii</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="mi">63</span><span class="p">)</span><span class="w"></span>
<span class="mi">15</span><span class="w">    </span><span class="k">format</span><span class="p">(</span><span class="s1">&#39; A MATCH COULD NOT BE FOUND FOR CHARACTER &#39;</span><span class="p">,</span><span class="n">a1</span><span class="p">)</span><span class="w"></span>
<span class="w">      </span><span class="k">goto</span><span class="w"> </span><span class="mi">60</span><span class="w"></span>
<span class="c">!</span>
<span class="c">!  SEARCH THE &#39;TABLE&#39; ARRAY FOR THE INTEGER EQUIVALENT OF THE SYMBOL</span>
<span class="c">!  TO BE DRAWN. &#39;TABLE&#39; IS ARRANGED SUCH THAT THE ENTRY FOLLOWING</span>
<span class="c">!  THE INTEGER EQUIVALENT OF THE SYMBOL IS THE NUMBER OF STRAIGHT</span>
<span class="c">!  LINE SEGMENTS WHICH MAKE UP THE DRAWING. THEREFORE, IF A MATCH</span>
<span class="c">!  LINE SEGMENTS WHICH COMPRISE THE DRAWING. THIS IS FOLLOWED BY</span>
<span class="c">!  A SERIES OF ENTRIES (ONE FOR EACH STRAIGHT LINE SEGMENT) WHICH</span>
<span class="c">!  DESCRIBE THE SYMBOL. HENCE, IF THE CURRENT &#39;TABLE&#39; ENTRY DOES</span>
<span class="c">!  NOT MATCH THE INTEGER EQUIVALENT OF THE DESIRED SYMBOL, THE</span>
<span class="c">!  POINTER MUST BE INCREMENTED BY THE NUMBER OF SEGMENTS (TABLE_Q(I+1))</span>
<span class="c">!  PLUS 2 (ONE ENTRY FOR THE SYMBOL INTEGER EQUIVALENT AND ONE ENTRY</span>
<span class="c">!  FOR THE DEFINITION OF THE NUMBER OF SEGMENTS).</span>
<span class="c">!</span>
<span class="c">!  WHEN A MATCH FOR THE INTEGER EQUIVALENT OF THE SYMBOL HAS BEEN</span>
<span class="c">!  FOUND, IDENTIFY THE NUMBER OF STRAIGHT LINE SEGMENTS USED TO</span>
<span class="c">!  DRAW THE SYMBOL.</span>
<span class="c">!</span>
<span class="mi">20</span><span class="w">    </span><span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="w"></span>
<span class="mi">30</span><span class="w">    </span><span class="k">continue</span>
<span class="k">      if</span><span class="p">(</span><span class="n">isym</span><span class="p">.</span><span class="n">ne</span><span class="p">.</span><span class="n">table_q</span><span class="p">(</span><span class="n">i</span><span class="p">))</span><span class="w"> </span><span class="k">then</span>
<span class="k">         </span><span class="n">i</span><span class="o">=</span><span class="n">i</span><span class="o">+</span><span class="n">table_q</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">+</span><span class="mi">2</span><span class="w"></span>
<span class="c">! CHANGED 782 TO 699</span>
<span class="w">         </span><span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="p">.</span><span class="n">le</span><span class="p">.</span><span class="mi">699</span><span class="p">)</span><span class="w"> </span><span class="k">goto</span><span class="w"> </span><span class="mi">30</span><span class="w"></span>
<span class="w">         </span><span class="k">write</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;(&#39;&#39; HAVE EXHAUSTED SYMBOL TABLE- PROCEEDING TO NEXT SYMBOL&#39;&#39;)&#39;</span><span class="p">)</span><span class="w"></span>
<span class="w">         </span><span class="k">goto</span><span class="w"> </span><span class="mi">60</span><span class="w"></span>
<span class="w">      </span><span class="k">endif</span>
<span class="k">      </span><span class="n">numseg</span><span class="o">=</span><span class="n">table_q</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="w"></span>
<span class="w">      </span><span class="k">if</span><span class="p">(</span><span class="n">numseg</span><span class="w"> </span><span class="p">.</span><span class="n">eq</span><span class="p">.</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="k">goto</span><span class="w"> </span><span class="mi">60</span><span class="w"></span>
<span class="w">      </span><span class="k">do </span><span class="mi">50</span><span class="w"> </span><span class="n">j</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">numseg</span><span class="w"></span>
<span class="c">!</span>
<span class="c">!  DECODE THE NEXT &#39;TABLE&#39; ENTRY TO DETERMINE THE RELATIVE CARTESIAN</span>
<span class="c">!  COORDINATES (THE END POINTS) FOR THE NEXT LINE OF THE SYMBOL.</span>
<span class="c">!</span>
<span class="w">         </span><span class="n">iseg</span><span class="o">=</span><span class="n">table_q</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="o">+</span><span class="n">j</span><span class="p">)</span><span class="w"></span>
<span class="w">         </span><span class="n">x1</span><span class="o">=</span><span class="n">iseg</span><span class="o">/</span><span class="mi">1000</span><span class="w"></span>
<span class="w">         </span><span class="n">y1</span><span class="o">=</span><span class="p">(</span><span class="n">iseg</span><span class="o">-</span><span class="n">iseg</span><span class="o">/</span><span class="mi">1000</span><span class="o">*</span><span class="mi">1000</span><span class="p">)</span><span class="o">/</span><span class="mi">100</span><span class="w"></span>
<span class="w">         </span><span class="n">x2</span><span class="o">=</span><span class="p">(</span><span class="n">iseg</span><span class="o">-</span><span class="n">iseg</span><span class="o">/</span><span class="mi">100</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span><span class="o">/</span><span class="mi">10</span><span class="w"></span>
<span class="w">         </span><span class="n">y2</span><span class="o">=</span><span class="n">iseg</span><span class="o">-</span><span class="n">iseg</span><span class="o">/</span><span class="mi">10</span><span class="o">*</span><span class="mi">10</span><span class="w"></span>
<span class="c">!</span>
<span class="c">!  TRANSLATE THE RELATIVE CARTESIAN COORDINATES FOR THE SEGMENT INTO</span>
<span class="c">!  RELATIVE POLAR COORDINATES.</span>
<span class="c">!</span>
<span class="w">         </span><span class="k">if</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">x1</span><span class="p">).</span><span class="n">lt</span><span class="p">.</span><span class="mf">0.0001</span><span class="p">)</span><span class="w"> </span><span class="k">then</span>
<span class="k">            </span><span class="n">angl1</span><span class="o">=</span><span class="n">pi</span><span class="o">/</span><span class="mf">2.00</span><span class="w"></span>
<span class="w">         </span><span class="k">else</span>
<span class="k">            </span><span class="n">angl1</span><span class="o">=</span><span class="nb">atan</span><span class="p">(</span><span class="n">y1</span><span class="o">/</span><span class="n">x1</span><span class="p">)</span><span class="w"></span>
<span class="w">         </span><span class="k">endif</span>
<span class="k">         if</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">x2</span><span class="p">).</span><span class="n">lt</span><span class="p">.</span><span class="mf">0.0001</span><span class="p">)</span><span class="w"> </span><span class="k">then</span>
<span class="k">            </span><span class="n">angl2</span><span class="o">=</span><span class="n">pi</span><span class="o">/</span><span class="mf">2.0</span><span class="w"></span>
<span class="w">         </span><span class="k">else</span>
<span class="k">            </span><span class="n">angl2</span><span class="o">=</span><span class="nb">atan</span><span class="p">(</span><span class="n">y2</span><span class="o">/</span><span class="n">x2</span><span class="p">)</span><span class="w"></span>
<span class="w">         </span><span class="k">endif</span>
<span class="k">         </span><span class="n">rad</span><span class="o">=</span><span class="nb">sqrt</span><span class="p">(</span><span class="n">x1</span><span class="o">*</span><span class="n">x1</span><span class="o">+</span><span class="n">y1</span><span class="o">*</span><span class="n">y1</span><span class="p">)</span><span class="w"></span>
<span class="w">         </span><span class="n">x1</span><span class="o">=</span><span class="n">rad</span><span class="o">*</span><span class="n">xfac</span><span class="o">*</span><span class="nb">cos</span><span class="p">(</span><span class="n">angl1</span><span class="o">+</span><span class="n">theta</span><span class="p">)</span><span class="w"></span>
<span class="w">         </span><span class="n">y1</span><span class="o">=</span><span class="n">rad</span><span class="o">*</span><span class="n">yfac</span><span class="o">*</span><span class="nb">sin</span><span class="p">(</span><span class="n">angl1</span><span class="o">+</span><span class="n">theta</span><span class="p">)</span><span class="w"></span>
<span class="w">         </span><span class="n">rad</span><span class="o">=</span><span class="nb">sqrt</span><span class="p">(</span><span class="n">x2</span><span class="o">*</span><span class="n">x2</span><span class="o">+</span><span class="n">y2</span><span class="o">*</span><span class="n">y2</span><span class="p">)</span><span class="w"></span>
<span class="w">         </span><span class="n">x2</span><span class="o">=</span><span class="n">rad</span><span class="o">*</span><span class="n">xfac</span><span class="o">*</span><span class="nb">cos</span><span class="p">(</span><span class="n">angl2</span><span class="o">+</span><span class="n">theta</span><span class="p">)</span><span class="w"></span>
<span class="w">         </span><span class="n">y2</span><span class="o">=</span><span class="n">rad</span><span class="o">*</span><span class="n">yfac</span><span class="o">*</span><span class="nb">sin</span><span class="p">(</span><span class="n">angl2</span><span class="o">+</span><span class="n">theta</span><span class="p">)</span><span class="w"></span>
<span class="c">!</span>
<span class="c">!  SET THE X AND Y FACTORS FOR SYMBOL CENTERING TO 0.0. DETERMINE</span>
<span class="c">!  IF THE SYMBOL IS TO BE CENTERED. (ONLY SYMBOLS WITH NUMERICAL</span>
<span class="c">!  EQUIVALENTS BETWEEN 0 AND 14 INCLUSIVE ARE TO BE CENTERED.)  IF</span>
<span class="c">!  THE SYMBOL IS TO BE CENTERED, CALCULATE THE POSITION OF THE</span>
<span class="c">!  ORIGIN OF THE SYMBOL DEFINITION GRID WITH RESPECT TO THE DEFINED</span>
<span class="c">!  CENTER OF THE SYMBOL.</span>
<span class="c">!</span>
<span class="w">         </span><span class="k">if</span><span class="p">((</span><span class="n">inteq</span><span class="p">.</span><span class="n">ge</span><span class="p">.</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">.</span><span class="nb">and</span><span class="p">.</span><span class="w"> </span><span class="p">(</span><span class="n">inteq</span><span class="p">.</span><span class="n">le</span><span class="p">.</span><span class="mi">14</span><span class="p">))</span><span class="w"> </span><span class="k">then</span>
<span class="k">            if</span><span class="p">(</span><span class="n">nchar</span><span class="p">.</span><span class="n">lt</span><span class="p">.</span><span class="mi">0</span><span class="p">)</span><span class="k">then</span>
<span class="k">               </span><span class="n">centrx</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mf">2.0</span><span class="p">)</span><span class="o">*</span><span class="n">xfac</span><span class="w"></span>
<span class="w">               </span><span class="n">centry</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mf">2.0</span><span class="p">)</span><span class="o">*</span><span class="n">yfac</span><span class="w"></span>
<span class="w">            </span><span class="k">else</span>
<span class="k">               </span><span class="n">centrx</span><span class="o">=</span><span class="mf">0.0</span><span class="w"></span>
<span class="w">               </span><span class="n">centry</span><span class="o">=</span><span class="mf">0.0</span><span class="w"></span>
<span class="w">            </span><span class="k">endif</span>
<span class="k">         else</span>
<span class="k">            </span><span class="n">centrx</span><span class="o">=</span><span class="mf">0.0</span><span class="w"></span>
<span class="w">            </span><span class="n">centry</span><span class="o">=</span><span class="mf">0.0</span><span class="w"></span>
<span class="w">         </span><span class="k">endif</span><span class="w"></span>
<span class="c">!</span>
<span class="c">!  CALL THE &#39;PLOT&#39; SUBROUTINE TO FIND THE CURRENTLY DEFINED ORIGIN</span>
<span class="c">!  FOR THE ENTIRE FRAME. THEN, CALL THE &#39;primitive__draw_line&#39; GRAPHICS PRIMITIVE</span>
<span class="c">!  ROUTINE TO DRAW THE LINE SEGMENT. THE ARGUMENTS TO &#39;primitive__draw_line&#39;</span>
<span class="c">!  MUST INCORPORATE THE CURRENTLY DEFINED ORIGIN FOR THE FRAME  THE</span>
<span class="c">!  (XORG,YORG), THE ORIGIN POINT FOR THE SYMBOL DEFINITION GRID</span>
<span class="c">!  (XRLORG,YRLORG) AND THE SYMBOL CENTERING FACTOR (CENTRX,CENTRY).</span>
<span class="c">!</span>
<span class="w">         </span><span class="k">call </span><span class="n">plot</span><span class="p">(</span><span class="n">xorg</span><span class="p">,</span><span class="n">yorg</span><span class="p">,</span><span class="mi">1005</span><span class="p">)</span><span class="w"></span>
<span class="w">         </span><span class="k">call </span><span class="n">primitive__draw_line</span><span class="p">(</span><span class="n">x1</span><span class="o">+</span><span class="n">xorg</span><span class="o">+</span><span class="n">xrlorg</span><span class="o">+</span><span class="n">centrx</span><span class="p">,</span><span class="n">y1</span><span class="o">+</span><span class="n">yorg</span><span class="o">+</span><span class="n">yrlorg</span><span class="o">+</span><span class="n">centry</span><span class="p">,</span><span class="w"> </span><span class="n">x2</span><span class="o">+</span><span class="n">xorg</span><span class="o">+</span><span class="n">xrlorg</span><span class="o">+</span><span class="n">centrx</span><span class="p">,</span><span class="n">y2</span><span class="o">+</span><span class="n">yorg</span><span class="o">+</span><span class="n">yrlorg</span><span class="o">+</span><span class="n">centry</span><span class="p">)</span><span class="w"></span>
<span class="mi">50</span><span class="w">    </span><span class="k">continue</span><span class="w"></span>
<span class="c">!</span>
<span class="c">!  CALCULATE THE STARTING POINT FOR THE NEXT SYMBOL. THE VALUE OF XSPC_Q</span>
<span class="c">!   AND YSPC_Q IN THESE EQUATIONS IS THE WIDTH OF THE GRID ON WHICH EACH</span>
<span class="c">!  SYMBOL IS DEFINED. IT IS NECESSARY TO MOVE THE ENTIRE WIDTH</span>
<span class="c">!  OF THE GRID EACH TIME A NEW SYMBOL IS DRAWN. THE 0.00 IN THESE</span>
<span class="c">!  EQUATIONS IS THE DEFAULT ANGLE OF ORIENTATION FOR DRAWING</span>
<span class="c">!  SYMBOLS. BY DEFAULT, ALL SYMBOLS ARE DRAWN ORIENTED PARALLEL</span>
<span class="c">!  TO THE POSITIVE X AXIS. WHILE THE VALUE OF 0.00 IS NOT REQUIRED</span>
<span class="c">!  MATHEMATICALLY, IT IS INCLUDED HERE FOR CONSISTENCY. (THESE</span>
<span class="c">!  EQUATIONS ARE BASED ON THE PRINCIPLE AS THE EQUATIONS USED ABOVE</span>
<span class="c">!  TO TRANSLATE FROM CARTESIAN TO POLAR COORDINATES. THE INCLUSION</span>
<span class="c">!  OF THE 0.00 FOR THE ANGLE INSURES THAT THE SAME FORMAT IS USED</span>
<span class="c">!  FOR BOTH APPLICATIONS OF THIS TRANSLATION.)</span>
<span class="c">!</span>
<span class="c">! XSPC_Q, YSPC_Q USED INSTEAD OF 7.0 TO ALLOW CHANGE TO SPACING OF</span>
<span class="c">! CHARACTERS. MODIFICATION FROM ORLANDO</span>
<span class="c">!</span>
<span class="c">!</span>
<span class="mi">60</span><span class="w">    </span><span class="n">xrlorg</span><span class="o">=</span><span class="n">xrlorg</span><span class="o">+</span><span class="p">(</span><span class="n">xspc_q</span><span class="o">*</span><span class="n">xfac</span><span class="o">*</span><span class="nb">cos</span><span class="p">(</span><span class="mf">0.00</span><span class="o">+</span><span class="n">theta</span><span class="p">))</span><span class="w"></span>
<span class="w">      </span><span class="n">yrlorg</span><span class="o">=</span><span class="n">yrlorg</span><span class="o">+</span><span class="p">(</span><span class="n">yspc_q</span><span class="o">*</span><span class="n">yfac</span><span class="o">*</span><span class="nb">sin</span><span class="p">(</span><span class="mf">0.00</span><span class="o">+</span><span class="n">theta</span><span class="p">))</span><span class="w"></span>
<span class="c">!</span>
<span class="c">!  IF &#39;INTEQ&#39; DOES NOT CONTAIN A VALUE CORRESPONDING TO ONE OF</span>
<span class="c">!  THE DEFINED SYMBOLS, ASSUME THAT A CHARACTER STRING IS BEING</span>
<span class="c">!  DRAWN, AND TRANSFER CONTROL TO INTERPRET THE NEXT ELEMENT OF</span>
<span class="c">!  THE STRING.</span>
<span class="c">!</span>
<span class="w">      </span><span class="k">if</span><span class="p">(</span><span class="n">nchar</span><span class="p">.</span><span class="n">gt</span><span class="p">.</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="k">goto</span><span class="w"> </span><span class="mi">5</span><span class="w"></span>
<span class="c">!</span>
<span class="c">!  RESET THE SYMBOL SIZE FACTORS TO UNITY PRIOR TO LEAVING THE</span>
<span class="c">!  SUBROUTINE, AND RETURNS THE PEN TO THE ORIGIN OF THE</span>
<span class="c">!  CHARACTER. (THE &#39;PLOT&#39; SUBROUTINE APPLIES ANY REQUIRED</span>
<span class="c">!  SCALING FACTORS.)</span>
<span class="c">!</span>
<span class="mi">100</span><span class="w">   </span><span class="n">xfac</span><span class="o">=</span><span class="mf">1.0</span><span class="w"></span>
<span class="w">      </span><span class="n">yfac</span><span class="o">=</span><span class="mf">1.0</span><span class="w"></span>
<span class="w">      </span><span class="k">call </span><span class="n">plot</span><span class="p">(</span><span class="n">xpage</span><span class="p">,</span><span class="n">ypage</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span><span class="w"></span>
<span class="k">end subroutine </span><span class="n">symbol</span><span class="w"></span>
</pre></div>

    </section>
    <br>
    
    </div>
  </div>

      <hr>
    </div> <!-- /container -->
    <footer>
      <div class="container">
        <div class="row justify-content-between">
          <div class="col">
            <p>
              M_calcomp
 was developed by John S. Urban<br>              &copy; 2025 
</p>
          </div>
          <div class="col">
            <p class="text-end">
              Documentation generated by
              <a href="https://github.com/Fortran-FOSS-Programmers/ford">FORD</a>
 on 2025-07-11 00:34 +0000             </p>
          </div>
        </div>
        <br>
      </div> <!-- /container -->
    </footer>
  </body>
</html>